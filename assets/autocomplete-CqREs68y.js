import{r as f,j as s}from"./iframe-CeVB8obd.js";import{c}from"./tailwind-CDN07tui.js";import{H as S,k as H,U as T,a as Z}from"./combobox-Dd7MZ-dg.js";const F=f.createContext(null);function p(){const e=f.useContext(F);if(!e)throw new globalThis.Error("Autocomplete.* must be used within <Autocomplete.Root>.");return e}function U(e,t){const r=t.trim().toLowerCase();return r?e.label.toLowerCase().includes(r):!0}function z({options:e,value:t,defaultValue:r=null,onChange:o,query:l,defaultQuery:u="",onQueryChange:n,placeholder:a="Search…",disabled:m=!1,invalid:g=!1,clearable:i=!0,minQueryLength:x=1,loading:h=!1,filterFn:I,renderOption:w,emptyBeforeThresholdText:C=y=>`Type ${y}+ characters…`,emptyAfterThresholdText:O="No results",className:R,children:Q}){const[y,V]=f.useState(r),j=t!==void 0?t:y,L=f.useCallback(d=>{t===void 0&&V(d),o?.(d)},[o,t]),[q,B]=f.useState(u),b=l!==void 0?l:q,N=f.useCallback(d=>{l===void 0&&B(d),n?.(d)},[n,l]),[k,E]=f.useState(!1),v=I??U,A=f.useMemo(()=>b.trim()?e.filter(d=>v(d,b)):e,[e,b,v]),M=f.useMemo(()=>({options:e,filteredOptions:A,value:j,setValue:L,query:b,setQuery:N,placeholder:a,disabled:m,invalid:g,isOpen:k,setIsOpen:E,clearable:i,minQueryLength:x,filterFn:v,renderOption:w,loading:h,emptyBeforeThresholdText:C,emptyAfterThresholdText:O}),[e,A,j,L,b,N,a,m,g,k,i,x,v,w,h,C,O]);return s.jsx(F.Provider,{value:M,children:s.jsx("div",{className:c("relative",R),children:s.jsx(S,{by:"id",value:j,onChange:d=>L(d),disabled:m,nullable:!0,children:Q})})})}function $({className:e,...t}){return s.jsx("label",{...t,className:c("mb-1 block text-sm font-medium text-foreground",e)})}function D({className:e,...t}){return s.jsx("div",{...t,className:c("relative",e)})}function G({className:e,children:t,...r}){const o=t??s.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M9 3a6 6 0 1 0 3.476 10.892l3.316 3.316a1 1 0 0 0 1.414-1.414l-3.316-3.316A6 6 0 0 0 9 3Zm-4 6a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",clipRule:"evenodd"})});return s.jsx("div",{...r,className:c("pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3 text-muted-foreground",e),children:o})}function J({className:e,displayValue:t,onValueTextChange:r,onFocus:o,onBlur:l,...u}){const n=p(),a=t??(i=>i?.label??""),m=u.placeholder??n.placeholder,g={...u,placeholder:m,displayValue:a};return s.jsx(H,{...g,className:c("w-full rounded-md border bg-background py-2 pl-9 pr-10 text-base leading-5 text-foreground","border-input focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background",n.invalid&&"border-destructive focus:ring-destructive",n.disabled&&"cursor-not-allowed opacity-50",e),onChange:i=>{const x=i.target.value;if(n.setQuery(x),r?.(x),!n.disabled){const h=x.trim().length;n.setIsOpen(h>=n.minQueryLength)}},onFocus:i=>{o?.(i)},onBlur:i=>{n.disabled||n.setIsOpen(!1),l?.(i)}})}function K({className:e,"aria-label":t,onClick:r,...o}){const l=p();return l.clearable&&!!l.value&&!l.disabled?s.jsx("button",{type:"button",...o,"aria-label":t??"Clear selection",className:c("absolute inset-y-0 right-0 flex items-center px-3 text-muted-foreground hover:text-foreground",e),onClick:n=>{n.preventDefault(),l.setValue(null),l.setQuery(""),l.setIsOpen(!1),r?.(n)},children:s.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M10 8.586 4.293 2.879A1 1 0 1 0 2.879 4.293L8.586 10l-5.707 5.707a1 1 0 1 0 1.414 1.414L10 11.414l5.707 5.707a1 1 0 0 0 1.414-1.414L11.414 10l5.707-5.707A1 1 0 0 0 15.707 2.88L10 8.586Z",clipRule:"evenodd"})})}):null}function W({className:e,children:t,...r}){const o=p(),u=o.query.trim().length>=o.minQueryLength;if(!o.isOpen||o.disabled||!u)return null;const n=o.filteredOptions.length>0;return s.jsx(T,{...r,className:c("absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-background py-1 text-base shadow-lg","ring-1 ring-border focus:outline-none",e),children:t||(o.loading?s.jsx(X,{}):n?o.filteredOptions.map(a=>s.jsx(_,{option:a},a.id)):s.jsx(Y,{}))})}function X({className:e,...t}){return s.jsx("div",{...t,className:c("cursor-default select-none px-4 py-2 text-muted-foreground",e),children:"Loading…"})}function Y({className:e,...t}){const r=p(),o=r.query.trim().length;return s.jsx("div",{...t,className:c("cursor-default select-none px-4 py-2 text-muted-foreground",e),children:o<r.minQueryLength?r.emptyBeforeThresholdText(r.minQueryLength):r.emptyAfterThresholdText})}function _({option:e,className:t,children:r,...o}){const l=p();return s.jsx(Z,{...o,value:e,disabled:e.disabled,className:({active:u,selected:n,disabled:a})=>c("relative select-none py-2 pl-3 pr-4",a?"cursor-not-allowed opacity-50":"cursor-default",u?"bg-accent text-accent-foreground":"text-foreground",n&&"font-medium",typeof t=="function"?t({active:u,selected:n,disabled:a}):t),children:({active:u,selected:n,disabled:a})=>{const m=r||(l.renderOption?l.renderOption(e,{active:u,selected:n,disabled:a}):e.label);return s.jsx(s.Fragment,{children:m})}})}const ne={Root:z,Label:$,Control:D,LeadingIcon:G,Input:J,ClearButton:K,Options:W};export{ne as A};
