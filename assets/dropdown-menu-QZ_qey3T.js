import{r as p,R,j as D}from"./iframe-BZ1wujjQ.js";import{B as ue}from"./button-LJhTR5u8.js";import{c as Q}from"./tailwind-CDN07tui.js";import{$ as $e,a as Me}from"./useFocusRing-BfnhhEST.js";import{r as W}from"./index-W2FIh6FJ.js";import{w as Pe,e as Ee}from"./use-resolve-button-type-BdBbSlJ2.js";import{u as de,Y as C,y as Z,o as M,K as F,n as U,p as Te,V as ce,A as re,a as we}from"./use-sync-refs-DKphwUq6.js";import{A as ke,y as De,R as Re,T as Ce,w as Fe,b as Oe,F as Ne}from"./floating-DJeorzdf.js";import{p as _e,a as V,c as v,f as K,b as Ae,u as Be,L as je,S as H,s as Ge}from"./element-movement-BFShz-nT.js";import{y as Le}from"./use-inert-others-D7PEgJFU.js";import{T as qe,b as se,x as me,k as Ke,c as He,S as w,a as Ue,u as ae,p as Ve,f as Qe,t as ze}from"./portal-EQenjn8w.js";import{n as J,d as Ye,a as Ze,o as h}from"./keyboard-Ce2CPQ3X.js";import{s as Je}from"./use-text-value-2uJ_D3Gg.js";import{c as We,u as Xe,N as et,x as tt,i as z}from"./open-closed-DMtSAjel.js";import{F as nt}from"./use-tree-walker-BngRelFW.js";import{G as rt,R as st,T as oe,K as pe,H as at,I as ot}from"./focus-management-DzM3vxoc.js";import{H as it}from"./description-CTKD1BlB.js";import{C as lt,V as fe}from"./label-DjUSKMEb.js";import{K as ut}from"./transition-0J3O6CrR.js";var dt=Object.defineProperty,ct=(e,n,t)=>n in e?dt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ie=(e,n,t)=>(ct(e,typeof n!="symbol"?n+"":n,t),t),y=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(y||{}),Y=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Y||{}),u=(e=>(e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItems=5]="RegisterItems",e[e.UnregisterItems=6]="UnregisterItems",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetItemsElement=8]="SetItemsElement",e[e.SortItems=9]="SortItems",e[e.MarkButtonAsMoved=10]="MarkButtonAsMoved",e))(u||{});function le(e,n=t=>t){let t=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=rt(n(e.items.slice()),o=>o.dataRef.current.domRef.current),s=t?r.indexOf(t):null;return s===-1&&(s=null),{items:r,activeItemIndex:s}}let mt={1(e){if(e.menuState===1)return e;let n=e.buttonElement?V.Tracked(Ae(e.buttonElement)):e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:v.Nothing},menuState:1,buttonPositionState:n}},0(e,n){return e.menuState===0?e:{...e,__demoMode:!1,pendingFocus:n.focus,menuState:0,buttonPositionState:V.Idle}},2:(e,n)=>{var t,r,s,o,l;if(e.menuState===1)return e;let f={...e,searchQuery:"",activationTrigger:(t=n.trigger)!=null?t:1,__demoMode:!1};if(n.focus===v.Nothing)return{...f,activeItemIndex:null};if(n.focus===v.Specific)return{...f,activeItemIndex:e.items.findIndex(a=>a.id===n.id)};if(n.focus===v.Previous){let a=e.activeItemIndex;if(a!==null){let E=e.items[a].dataRef.current.domRef,g=K(n,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});if(g!==null){let c=e.items[g].dataRef.current.domRef;if(((r=E.current)==null?void 0:r.previousElementSibling)===c.current||((s=c.current)==null?void 0:s.previousElementSibling)===null)return{...f,activeItemIndex:g}}}}else if(n.focus===v.Next){let a=e.activeItemIndex;if(a!==null){let E=e.items[a].dataRef.current.domRef,g=K(n,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});if(g!==null){let c=e.items[g].dataRef.current.domRef;if(((o=E.current)==null?void 0:o.nextElementSibling)===c.current||((l=c.current)==null?void 0:l.nextElementSibling)===null)return{...f,activeItemIndex:g}}}}let I=le(e),P=K(n,{resolveItems:()=>I.items,resolveActiveIndex:()=>I.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...f,...I,activeItemIndex:P}},3:(e,n)=>{let t=e.searchQuery!==""?0:1,r=e.searchQuery+n.value.toLowerCase(),s=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+t).concat(e.items.slice(0,e.activeItemIndex+t)):e.items).find(l=>{var f;return((f=l.dataRef.current.textValue)==null?void 0:f.startsWith(r))&&!l.dataRef.current.disabled}),o=s?e.items.indexOf(s):-1;return o===-1||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o,activationTrigger:1}},4(e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},5:(e,n)=>{let t=e.items.concat(n.items.map(s=>s)),r=e.activeItemIndex;return e.pendingFocus.focus!==v.Nothing&&(r=K(e.pendingFocus,{resolveItems:()=>t,resolveActiveIndex:()=>e.activeItemIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled})),{...e,items:t,activeItemIndex:r,pendingFocus:{focus:v.Nothing},pendingShouldSort:!0}},6:(e,n)=>{let t=e.items,r=[],s=new Set(n.items);for(let[o,l]of t.entries())if(s.has(l.id)&&(r.push(o),s.delete(l.id),s.size===0))break;if(r.length>0){t=t.slice();for(let o of r.reverse())t.splice(o,1)}return{...e,items:t,activationTrigger:1}},7:(e,n)=>e.buttonElement===n.element?e:{...e,buttonElement:n.element},8:(e,n)=>e.itemsElement===n.element?e:{...e,itemsElement:n.element},9:e=>e.pendingShouldSort?{...e,...le(e),pendingShouldSort:!1}:e,10(e){return e.buttonPositionState.kind!=="Tracked"?e:{...e,buttonPositionState:V.Moved}}};class X extends qe{constructor(n){super(n),ie(this,"actions",{registerItem:se(()=>{let t=[],r=new Set;return[(s,o)=>{r.has(o)||(r.add(o),t.push({id:s,dataRef:o}))},()=>(r.clear(),this.send({type:5,items:t.splice(0)}))]}),unregisterItem:se(()=>{let t=[];return[r=>t.push(r),()=>this.send({type:6,items:t.splice(0)})]})}),ie(this,"selectors",{activeDescendantId(t){var r;let s=t.activeItemIndex,o=t.items;return s===null||(r=o[s])==null?void 0:r.id},isActive(t,r){var s;let o=t.activeItemIndex,l=t.items;return o!==null?((s=l[o])==null?void 0:s.id)===r:!1},shouldScrollIntoView(t,r){return t.__demoMode||t.menuState!==0||t.activationTrigger===0?!1:this.isActive(t,r)},didButtonMove(t){return t.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let t=this.state.id,r=me.get(null);this.disposables.add(r.on(Ke.Push,s=>{!r.selectors.isTop(s,t)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>r.actions.push(t)),this.on(1,()=>r.actions.pop(t))}this.disposables.group(t=>{this.on(1,r=>{r.buttonElement&&(t.dispose(),t.add(_e(r.buttonElement,r.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:n,__demoMode:t=!1}){return new X({id:n,__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:v.Nothing},buttonPositionState:V.Idle})}reduce(n,t){return de(t.type,mt,n,t)}}const ve=p.createContext(null);function ee(e){let n=p.useContext(ve);if(n===null){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ie),t}return n}function Ie({id:e,__demoMode:n=!1}){let t=p.useMemo(()=>X.new({id:e,__demoMode:n}),[]);return He(()=>t.dispose()),t}let pt=p.Fragment;function ft(e,n){let t=p.useId(),{__demoMode:r=!1,...s}=e,o=Ie({id:t,__demoMode:r}),[l,f,I]=w(o,S=>[S.menuState,S.itemsElement,S.buttonElement]),P=Z(n),a=me.get(null),E=w(a,p.useCallback(S=>a.selectors.isTop(S,t),[a,t]));Ue(E,[I,f],(S,x)=>{var $;o.send({type:u.CloseMenu}),at(x,ot.Loose)||(S.preventDefault(),($=o.state.buttonElement)==null||$.focus())});let g=M(()=>{o.send({type:u.CloseMenu})}),c=J({open:l===y.Open,close:g}),b={ref:P},T=F();return R.createElement(ke,null,R.createElement(ve.Provider,{value:o},R.createElement(We,{value:de(l,{[y.Open]:z.Open,[y.Closed]:z.Closed})},T({ourProps:b,theirProps:s,slot:c,defaultTag:pt,name:"Menu"}))))}let vt="button";function It(e,n){let t=ee("Menu.Button"),r=p.useId(),{id:s=`headlessui-menu-button-${r}`,disabled:o=!1,autoFocus:l=!1,...f}=e,I=p.useRef(null),P=Oe(),a=Z(n,I,Ne(),M(d=>t.send({type:u.SetButtonElement,element:d}))),E=M(d=>{switch(d.key){case h.Space:case h.Enter:case h.ArrowDown:d.preventDefault(),d.stopPropagation(),t.send({type:u.OpenMenu,focus:{focus:v.First}});break;case h.ArrowUp:d.preventDefault(),d.stopPropagation(),t.send({type:u.OpenMenu,focus:{focus:v.Last}});break}}),g=M(d=>{switch(d.key){case h.Space:d.preventDefault();break}}),[c,b,T]=w(t,d=>[d.menuState,d.buttonElement,d.itemsElement]),S=c===y.Open;je(S,{trigger:b,action:p.useCallback(d=>{if(b!=null&&b.contains(d.target))return H.Ignore;let m=d.target.closest('[role="menuitem"]:not([data-disabled])');return Ze(m)?H.Select(m):T!=null&&T.contains(d.target)?H.Ignore:H.Close},[b,T]),close:p.useCallback(()=>t.send({type:u.CloseMenu}),[]),select:p.useCallback(d=>d.click(),[])});let x=Ge(d=>{var m;o||(c===y.Open?(W.flushSync(()=>t.send({type:u.CloseMenu})),(m=I.current)==null||m.focus({preventScroll:!0})):(d.preventDefault(),t.send({type:u.OpenMenu,focus:{focus:v.Nothing},trigger:Y.Pointer})))}),{isFocusVisible:$,focusProps:O}=$e({autoFocus:l}),{isHovered:A,hoverProps:N}=Me({isDisabled:o}),{pressed:k,pressProps:B}=Pe({disabled:o}),_=J({open:c===y.Open,active:k||c===y.Open,disabled:o,hover:A,focus:$,autofocus:l}),j=ce(P(),{ref:a,id:s,type:Ee(e,I.current),"aria-haspopup":"menu","aria-controls":T?.id,"aria-expanded":c===y.Open,disabled:o||void 0,autoFocus:l,onKeyDown:E,onKeyUp:g},x,O,N,B);return F()({ourProps:j,theirProps:f,slot:_,defaultTag:vt,name:"Menu.Button"})}let gt="div",bt=re.RenderStrategy|re.Static;function ht(e,n){let t=p.useId(),{id:r=`headlessui-menu-items-${t}`,anchor:s,portal:o=!1,modal:l=!0,transition:f=!1,...I}=e,P=De(s),a=ee("Menu.Items"),[E,g]=Re(P),c=Ce(),[b,T]=p.useState(null),S=Z(n,P?E:null,M(i=>a.send({type:u.SetItemsElement,element:i})),T),[x,$]=w(a,i=>[i.menuState,i.buttonElement]),O=ae($),A=ae(b);P&&(o=!0);let N=Xe(),[k,B]=et(f,b,N!==null?(N&z.Open)===z.Open:x===y.Open);Ve(k,$,()=>{a.send({type:u.CloseMenu})});let _=w(a,i=>i.__demoMode),j=_?!1:l&&x===y.Open;Qe(j,A);let d=_?!1:l&&x===y.Open;Le(d,{allowed:p.useCallback(()=>[$,b],[$,b])});let m=w(a,a.selectors.didButtonMove)?!1:k;p.useEffect(()=>{let i=b;i&&x===y.Open&&(Ye(i)||i.focus({preventScroll:!0}))},[x,b]),nt(x===y.Open,{container:b,accept(i){return i.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:i.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(i){i.setAttribute("role","none")}});let G=Te(),ge=M(i=>{var L,te,ne;switch(G.dispose(),i.key){case h.Space:if(a.state.searchQuery!=="")return i.preventDefault(),i.stopPropagation(),a.send({type:u.Search,value:i.key});case h.Enter:if(i.preventDefault(),i.stopPropagation(),a.state.activeItemIndex!==null){let{dataRef:xe}=a.state.items[a.state.activeItemIndex];(te=(L=xe.current)==null?void 0:L.domRef.current)==null||te.click()}a.send({type:u.CloseMenu}),pe(a.state.buttonElement);break;case h.ArrowDown:return i.preventDefault(),i.stopPropagation(),a.send({type:u.GoToItem,focus:v.Next});case h.ArrowUp:return i.preventDefault(),i.stopPropagation(),a.send({type:u.GoToItem,focus:v.Previous});case h.Home:case h.PageUp:return i.preventDefault(),i.stopPropagation(),a.send({type:u.GoToItem,focus:v.First});case h.End:case h.PageDown:return i.preventDefault(),i.stopPropagation(),a.send({type:u.GoToItem,focus:v.Last});case h.Escape:i.preventDefault(),i.stopPropagation(),W.flushSync(()=>a.send({type:u.CloseMenu})),(ne=a.state.buttonElement)==null||ne.focus({preventScroll:!0});break;case h.Tab:i.preventDefault(),i.stopPropagation(),W.flushSync(()=>a.send({type:u.CloseMenu})),st(a.state.buttonElement,i.shiftKey?oe.Previous:oe.Next);break;default:i.key.length===1&&(a.send({type:u.Search,value:i.key}),G.setTimeout(()=>a.send({type:u.ClearSearch}),350));break}}),be=M(i=>{switch(i.key){case h.Space:i.preventDefault();break}}),he=J({open:x===y.Open}),ye=ce(P?c():{},{"aria-activedescendant":w(a,a.selectors.activeDescendantId),"aria-labelledby":w(a,i=>{var L;return(L=i.buttonElement)==null?void 0:L.id}),id:r,onKeyDown:ge,onKeyUp:be,role:"menu",tabIndex:x===y.Open?0:void 0,ref:S,style:{...I.style,...g,"--button-width":Fe(k,$,!0).width},...tt(B)}),Se=F();return R.createElement(ze,{enabled:o?e.static||k:!1,ownerDocument:O},Se({ourProps:ye,theirProps:I,slot:he,defaultTag:gt,features:bt,visible:m,name:"Menu.Items"}))}let yt=p.Fragment;function St(e,n){let t=p.useId(),{id:r=`headlessui-menu-item-${t}`,disabled:s=!1,...o}=e,l=ee("Menu.Item"),f=w(l,m=>l.selectors.isActive(m,r)),I=p.useRef(null),P=Z(n,I),a=w(l,m=>l.selectors.shouldScrollIntoView(m,r));U(()=>{if(a)return we().requestAnimationFrame(()=>{var m,G;(G=(m=I.current)==null?void 0:m.scrollIntoView)==null||G.call(m,{block:"nearest"})})},[a,I]);let E=Je(I),g=p.useRef({disabled:s,domRef:I,get textValue(){return E()}});U(()=>{g.current.disabled=s},[g,s]),U(()=>(l.actions.registerItem(r,g),()=>l.actions.unregisterItem(r)),[g,r]);let c=M(()=>{l.send({type:u.CloseMenu})}),b=M(m=>{if(s)return m.preventDefault();l.send({type:u.CloseMenu}),pe(l.state.buttonElement)}),T=M(()=>{if(s)return l.send({type:u.GoToItem,focus:v.Nothing});l.send({type:u.GoToItem,focus:v.Specific,id:r})}),S=Be(),x=M(m=>S.update(m)),$=M(m=>{S.wasMoved(m)&&(s||f||l.send({type:u.GoToItem,focus:v.Specific,id:r,trigger:Y.Pointer}))}),O=M(m=>{S.wasMoved(m)&&(s||f&&l.state.activationTrigger===Y.Pointer&&l.send({type:u.GoToItem,focus:v.Nothing}))}),[A,N]=fe(),[k,B]=it(),_=J({active:f,focus:f,disabled:s,close:c}),j={id:r,ref:P,role:"menuitem",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-labelledby":A,"aria-describedby":k,disabled:void 0,onClick:b,onFocus:T,onPointerEnter:x,onMouseEnter:x,onPointerMove:$,onMouseMove:$,onPointerLeave:O,onMouseLeave:O},d=F();return R.createElement(N,null,R.createElement(B,null,d({ourProps:j,theirProps:o,slot:_,defaultTag:yt,name:"Menu.Item"})))}let xt="div";function $t(e,n){let[t,r]=fe(),s=e,o={ref:n,"aria-labelledby":t,role:"group"},l=F();return R.createElement(r,null,l({ourProps:o,theirProps:s,slot:{},defaultTag:xt,name:"Menu.Section"}))}let Mt="header";function Pt(e,n){let t=p.useId(),{id:r=`headlessui-menu-heading-${t}`,...s}=e,o=lt();U(()=>o.register(r),[r,o.register]);let l={id:r,ref:n,role:"presentation",...o.props};return F()({ourProps:l,theirProps:s,slot:{},defaultTag:Mt,name:"Menu.Heading"})}let Et="div";function Tt(e,n){let t=e,r={ref:n,role:"separator"};return F()({ourProps:r,theirProps:t,slot:{},defaultTag:Et,name:"Menu.Separator"})}let wt=C(ft),kt=C(It),Dt=C(ht),Rt=C(St),Ct=C($t),Ft=C(Pt),Ot=C(Tt),q=Object.assign(wt,{Button:kt,Items:Dt,Item:Rt,Section:Ct,Heading:Ft,Separator:Ot});function Nt({trigger:e,children:n,className:t,align:r="right"}){return D.jsxs(q,{as:"div",className:Q("relative inline-block text-left",t),children:[D.jsx(q.Button,{as:p.Fragment,children:e}),D.jsx(ut,{enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:D.jsx(q.Items,{className:Q("absolute z-10 mt-2 w-56 origin-top-right rounded-md bg-background shadow-lg ring-1 ring-border focus:outline-none",r==="left"?"left-0":"right-0"),children:D.jsx("div",{className:"py-1",children:n})})})]})}function _t({children:e,onClick:n,disabled:t,className:r}){return D.jsx(q.Item,{disabled:t,children:({active:s})=>D.jsx(ue,{type:"button",variant:"ghost",onClick:n,disabled:t,className:Q("w-full justify-start rounded-none px-4 py-2 text-left disabled:cursor-not-allowed",s&&"bg-accent text-accent-foreground hover:bg-accent",!s&&"hover:bg-muted",r),children:e})})}function At({children:e,className:n,...t}){return D.jsx(q.Button,{as:ue,variant:"outline",className:Q("w-full justify-center gap-x-1.5",n),...t,children:e})}_t.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuItem",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};At.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuButton",props:{children:{required:!1,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};Nt.__docgenInfo={description:"",methods:[],displayName:"DropdownMenu",props:{trigger:{required:!0,tsType:{name:"ReactNode"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""},align:{required:!1,tsType:{name:"union",raw:"'left' | 'right'",elements:[{name:"literal",value:"'left'"},{name:"literal",value:"'right'"}]},description:"",defaultValue:{value:"'right'",computed:!1}}}};export{Nt as D,_t as a,At as b};
