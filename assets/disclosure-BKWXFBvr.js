import{R as b,r as s,j as P}from"./iframe-BZ1wujjQ.js";import{c as h}from"./tailwind-CDN07tui.js";import{$ as Y,a as z}from"./useFocusRing-BfnhhEST.js";import{w as Q,e as W}from"./use-resolve-button-type-BdBbSlJ2.js";import{Y as C,y as N,T as Z,c as ee,o as S,K as w,u as k,V as A,A as H}from"./use-sync-refs-DKphwUq6.js";import{n as B,o as x,b as te,i as M}from"./keyboard-Ce2CPQ3X.js";import{c as re,u as se,N as ne,i as $,x as le,s as oe}from"./open-closed-DMtSAjel.js";import{C as ae}from"./close-provider-CDBggudH.js";import{s as ue}from"./bugs-CWise-ep.js";var U;let ie=(U=b.startTransition)!=null?U:function(e){e()};var ce=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ce||{}),de=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(de||{});let pe={0:e=>({...e,disclosureState:k(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},R=s.createContext(null);R.displayName="DisclosureContext";function j(e){let t=s.useContext(R);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,j),l}return t}let O=s.createContext(null);O.displayName="DisclosureAPIContext";function X(e){let t=s.useContext(O);if(t===null){let l=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,X),l}return t}let q=s.createContext(null);q.displayName="DisclosurePanelContext";function fe(){return s.useContext(q)}function me(e,t){return k(t.type,pe,e,t)}let ye=s.Fragment;function be(e,t){let{defaultOpen:l=!1,...c}=e,i=s.useRef(null),d=N(t,Z(a=>{i.current=a},e.as===void 0||ee(e.as))),p=s.useReducer(me,{disclosureState:l?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:r,buttonId:n},E]=p,o=S(a=>{E({type:1});let m=te(i.current);if(!m||!n)return;let y=a?M(a)?a:"current"in a&&M(a.current)?a.current:m.getElementById(n):m.getElementById(n);y?.focus()}),D=s.useMemo(()=>({close:o}),[o]),f=B({open:r===0,close:o}),g={ref:d},v=w();return b.createElement(R.Provider,{value:p},b.createElement(O.Provider,{value:D},b.createElement(ae,{value:o},b.createElement(re,{value:k(r,{0:$.Open,1:$.Closed})},v({ourProps:g,theirProps:c,slot:f,defaultTag:ye,name:"Disclosure"})))))}let Ee="button";function ge(e,t){let l=s.useId(),{id:c=`headlessui-disclosure-button-${l}`,disabled:i=!1,autoFocus:d=!1,...p}=e,[r,n]=j("Disclosure.Button"),E=fe(),o=E===null?!1:E===r.panelId,D=s.useRef(null),f=N(D,t,S(u=>{if(!o)return n({type:4,element:u})}));s.useEffect(()=>{if(!o)return n({type:2,buttonId:c}),()=>{n({type:2,buttonId:null})}},[c,n,o]);let g=S(u=>{var I;if(o){if(r.disclosureState===1)return;switch(u.key){case x.Space:case x.Enter:u.preventDefault(),u.stopPropagation(),n({type:0}),(I=r.buttonElement)==null||I.focus();break}}else switch(u.key){case x.Space:case x.Enter:u.preventDefault(),u.stopPropagation(),n({type:0});break}}),v=S(u=>{switch(u.key){case x.Space:u.preventDefault();break}}),a=S(u=>{var I;ue(u.currentTarget)||i||(o?(n({type:0}),(I=r.buttonElement)==null||I.focus()):n({type:0}))}),{isFocusVisible:m,focusProps:y}=Y({autoFocus:d}),{isHovered:T,hoverProps:_}=z({isDisabled:i}),{pressed:G,pressProps:V}=Q({disabled:i}),J=B({open:r.disclosureState===0,hover:T,active:G,disabled:i,focus:m,autofocus:d}),K=W(e,r.buttonElement),L=o?A({ref:f,type:K,disabled:i||void 0,autoFocus:d,onKeyDown:g,onClick:a},y,_,V):A({ref:f,id:c,type:K,"aria-expanded":r.disclosureState===0,"aria-controls":r.panelElement?r.panelId:void 0,disabled:i||void 0,autoFocus:d,onKeyDown:g,onKeyUp:v,onClick:a},y,_,V);return w()({ourProps:L,theirProps:p,slot:J,defaultTag:Ee,name:"Disclosure.Button"})}let Se="div",De=H.RenderStrategy|H.Static;function ve(e,t){let l=s.useId(),{id:c=`headlessui-disclosure-panel-${l}`,transition:i=!1,...d}=e,[p,r]=j("Disclosure.Panel"),{close:n}=X("Disclosure.Panel"),[E,o]=s.useState(null),D=N(t,S(T=>{ie(()=>r({type:5,element:T}))}),o);s.useEffect(()=>(r({type:3,panelId:c}),()=>{r({type:3,panelId:null})}),[c,r]);let f=se(),[g,v]=ne(i,E,f!==null?(f&$.Open)===$.Open:p.disclosureState===0),a=B({open:p.disclosureState===0,close:n}),m={ref:D,id:c,...le(v)},y=w();return b.createElement(oe,null,b.createElement(q.Provider,{value:p.panelId},y({ourProps:m,theirProps:d,slot:a,defaultTag:Se,features:De,visible:g,name:"Disclosure.Panel"})))}let Ie=C(be),xe=C(ge),Pe=C(ve),F=Object.assign(Ie,{Button:xe,Panel:Pe});function $e({children:e,defaultOpen:t=!1,className:l}){return P.jsx("div",{className:h("w-full",l),children:P.jsx(F,{defaultOpen:t,children:e})})}function Te({children:e,className:t}){return P.jsx(F.Button,{className:h("flex w-full justify-between rounded-lg bg-gray-100 px-4 py-2 text-left text-base font-medium text-gray-900 hover:bg-gray-200 focus:outline-none focus-visible:ring focus-visible:ring-gray-500 focus-visible:ring-opacity-75",t),children:e})}function he({children:e,className:t}){return P.jsx(F.Panel,{className:h("px-4 pb-2 pt-4 text-base text-gray-500",t),children:e})}Te.__docgenInfo={description:"",methods:[],displayName:"DisclosureButton",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};he.__docgenInfo={description:"",methods:[],displayName:"DisclosurePanel",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};$e.__docgenInfo={description:"",methods:[],displayName:"Disclosure",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};export{$e as D,Te as a,he as b};
