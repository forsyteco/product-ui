import{r as m,R as j,j as Y}from"./iframe-BZ1wujjQ.js";import{c as be}from"./tailwind-CDN07tui.js";import{$ as De,a as Ve}from"./useFocusRing-BfnhhEST.js";import{r as ee}from"./index-W2FIh6FJ.js";import{w as Ge,e as Xe}from"./use-resolve-button-type-BdBbSlJ2.js";import{u as Ye}from"./use-by-comparator-TOhtDbp6.js";import{l as Je,b as Qe,j as Ze}from"./form-fields-zS5QveKI.js";import{o as P,u as se,Y as pe,n as te,K as fe,s as et,y as ve,V as ye,p as tt,A as Ce,a as nt}from"./use-sync-refs-DKphwUq6.js";import{A as ot,y as st,R as it,T as rt,w as Ee,F as at}from"./floating-DJeorzdf.js";import{c as A,p as lt,a as ce,f as Ie,b as ut,u as ct,L as dt,S as le,s as pt,g as ft}from"./element-movement-BFShz-nT.js";import{y as ht}from"./use-inert-others-D7PEgJFU.js";import{T as mt,x as je,k as gt,c as vt,S as F,a as bt,u as we,p as xt,f as yt,t as St,n as Ot}from"./portal-EQenjn8w.js";import{l as Te,d as Le,n as he,a as Ct,o as W}from"./keyboard-Ce2CPQ3X.js";import{E as Et}from"./use-event-listener-DtvH9auP.js";import{c as It,i as ge,u as wt,N as Tt,x as Mt}from"./open-closed-DMtSAjel.js";import{F as $t}from"./use-tree-walker-BngRelFW.js";import{m as Me,n as $e}from"./active-element-history-DHHFNsIM.js";import{a as Rt,w as Pt}from"./description-CTKD1BlB.js";import{u as Re,s as kt}from"./frozen-P3XLoKA6.js";import{Z as At,V as Ft,N as Se,u as zt}from"./label-DjUSKMEb.js";import{G as _t}from"./focus-management-DzM3vxoc.js";function oe(t,i,e){let o=e.initialDeps??[],n,s=!0;function r(){var a,u,l;let c;e.key&&((a=e.debug)!=null&&a.call(e))&&(c=Date.now());const b=t();if(!(b.length!==o.length||b.some((p,v)=>o[v]!==p)))return n;o=b;let f;if(e.key&&((u=e.debug)!=null&&u.call(e))&&(f=Date.now()),n=i(...b),e.key&&((l=e.debug)!=null&&l.call(e))){const p=Math.round((Date.now()-c)*100)/100,v=Math.round((Date.now()-f)*100)/100,x=v/16,T=(M,$)=>{for(M=String(M);M.length<$;)M=" "+M;return M};console.info(`%câ± ${T(v,5)} /${T(p,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,e?.key)}return e?.onChange&&!(s&&e.skipInitialOnChange)&&e.onChange(n),s=!1,n}return r.updateDeps=a=>{o=a},r}function Pe(t,i){if(t===void 0)throw new Error("Unexpected undefined");return t}const Dt=(t,i)=>Math.abs(t-i)<1.01,Vt=(t,i,e)=>{let o;return function(...n){t.clearTimeout(o),o=t.setTimeout(()=>i.apply(this,n),e)}},ke=t=>{const{offsetWidth:i,offsetHeight:e}=t;return{width:i,height:e}},jt=t=>t,Lt=t=>{const i=Math.max(t.startIndex-t.overscan,0),e=Math.min(t.endIndex+t.overscan,t.count-1),o=[];for(let n=i;n<=e;n++)o.push(n);return o},Nt=(t,i)=>{const e=t.scrollElement;if(!e)return;const o=t.targetWindow;if(!o)return;const n=r=>{const{width:a,height:u}=r;i({width:Math.round(a),height:Math.round(u)})};if(n(ke(e)),!o.ResizeObserver)return()=>{};const s=new o.ResizeObserver(r=>{const a=()=>{const u=r[0];if(u?.borderBoxSize){const l=u.borderBoxSize[0];if(l){n({width:l.inlineSize,height:l.blockSize});return}}n(ke(e))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return s.observe(e,{box:"border-box"}),()=>{s.unobserve(e)}},Ae={passive:!0},Fe=typeof window>"u"?!0:"onscrollend"in window,qt=(t,i)=>{const e=t.scrollElement;if(!e)return;const o=t.targetWindow;if(!o)return;let n=0;const s=t.options.useScrollendEvent&&Fe?()=>{}:Vt(o,()=>{i(n,!1)},t.options.isScrollingResetDelay),r=c=>()=>{const{horizontal:b,isRtl:d}=t.options;n=b?e.scrollLeft*(d&&-1||1):e.scrollTop,s(),i(n,c)},a=r(!0),u=r(!1);u(),e.addEventListener("scroll",a,Ae);const l=t.options.useScrollendEvent&&Fe;return l&&e.addEventListener("scrollend",u,Ae),()=>{e.removeEventListener("scroll",a),l&&e.removeEventListener("scrollend",u)}},Wt=(t,i,e)=>{if(i?.borderBoxSize){const o=i.borderBoxSize[0];if(o)return Math.round(o[e.options.horizontal?"inlineSize":"blockSize"])}return t[e.options.horizontal?"offsetWidth":"offsetHeight"]},Bt=(t,{adjustments:i=0,behavior:e},o)=>{var n,s;const r=t+i;(s=(n=o.scrollElement)==null?void 0:n.scrollTo)==null||s.call(n,{[o.options.horizontal?"left":"top"]:r,behavior:e})};class Ut{constructor(i){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const o=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(n=>{n.forEach(s=>{const r=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()})}));return{disconnect:()=>{var n;(n=o())==null||n.disconnect(),e=null},observe:n=>{var s;return(s=o())==null?void 0:s.observe(n,{box:"border-box"})},unobserve:n=>{var s;return(s=o())==null?void 0:s.unobserve(n)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([o,n])=>{typeof n>"u"&&delete e[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:jt,rangeExtractor:Lt,onChange:()=>{},measureElement:Wt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var o,n;(n=(o=this.options).onChange)==null||n.call(o,this,e)},this.maybeNotify=oe(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(n=>{this.observer.observe(n)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(n,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<n?"forward":"backward":null,this.scrollOffset=n,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,o)=>{const n=new Map,s=new Map;for(let r=o-1;r>=0;r--){const a=e[r];if(n.has(a.lane))continue;const u=s.get(a.lane);if(u==null||a.end>u.end?s.set(a.lane,a):a.end<u.end&&n.set(a.lane,!0),n.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((r,a)=>r.end===a.end?r.index-a.index:r.end-a.end)[0]:void 0},this.getMeasurementOptions=oe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(e,o,n,s,r,a)=>(this.prevLanes!==void 0&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:o,scrollMargin:n,getItemKey:s,enabled:r,lanes:a}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=oe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:o,scrollMargin:n,getItemKey:s,enabled:r,lanes:a},u)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>e)for(const d of this.laneAssignments.keys())d>=e&&this.laneAssignments.delete(d);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const l=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===e&&(this.lanesSettling=!1);const c=this.measurementsCache.slice(0,l),b=new Array(a).fill(void 0);for(let d=0;d<l;d++){const f=c[d];f&&(b[f.lane]=d)}for(let d=l;d<e;d++){const f=s(d),p=this.laneAssignments.get(d);let v,x;if(p!==void 0&&this.options.lanes>1){v=p;const O=b[v],z=O!==void 0?c[O]:void 0;x=z?z.end+this.options.gap:o+n}else{const O=this.options.lanes===1?c[d-1]:this.getFurthestMeasurement(c,d);x=O?O.end+this.options.gap:o+n,v=O?O.lane:d%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(d,v)}const T=u.get(f),M=typeof T=="number"?T:this.options.estimateSize(d),$=x+M;c[d]={index:d,start:x,size:M,end:$,key:f,lane:v},b[v]=d}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=oe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,o,n,s)=>this.range=e.length>0&&o>0?Kt({measurements:e,outerSize:o,scrollOffset:n,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=oe(()=>{let e=null,o=null;const n=this.calculateRange();return n&&(e=n.startIndex,o=n.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,o]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,o]},(e,o,n,s,r)=>s===null||r===null?[]:e({startIndex:s,endIndex:r,overscan:o,count:n}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const o=this.options.indexAttribute,n=e.getAttribute(o);return n?parseInt(n,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(e,o)=>{const n=this.indexFromElement(e),s=this.measurementsCache[n];if(!s)return;const r=s.key,a=this.elementsCache.get(r);a!==e&&(a&&this.observer.unobserve(a),this.observer.observe(e),this.elementsCache.set(r,e)),e.isConnected&&this.resizeItem(n,this.options.measureElement(e,o,this))},this.resizeItem=(e,o)=>{const n=this.measurementsCache[e];if(!n)return;const s=this.itemSizeCache.get(n.key)??n.size,r=o-s;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,r,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,o)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((o,n)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(n))});return}this._measureElement(e,void 0)},this.getVirtualItems=oe(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,o)=>{const n=[];for(let s=0,r=e.length;s<r;s++){const a=e[s],u=o[a];n.push(u)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const o=this.getMeasurements();if(o.length!==0)return Pe(o[Ne(0,o.length-1,n=>Pe(o[n]).start,e)])},this.getOffsetForAlignment=(e,o,n=0)=>{const s=this.getSize(),r=this.getScrollOffset();o==="auto"&&(o=e>=r+s?"end":"start"),o==="center"?e+=(n-s)/2:o==="end"&&(e-=s);const a=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(a,e),0)},this.getOffsetForIndex=(e,o="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const n=this.measurementsCache[e];if(!n)return;const s=this.getSize(),r=this.getScrollOffset();if(o==="auto")if(n.end>=r+s-this.options.scrollPaddingEnd)o="end";else if(n.start<=r+this.options.scrollPaddingStart)o="start";else return[r,o];const a=o==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,o,n.size),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:o="start",behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,o),{adjustments:void 0,behavior:n})},this.scrollToIndex=(e,{align:o="auto",behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let s=0;const r=10,a=l=>{if(!this.targetWindow)return;const c=this.getOffsetForIndex(e,l);if(!c){console.warn("Failed to get offset for index:",e);return}const[b,d]=c;this._scrollToOffset(b,{adjustments:void 0,behavior:n}),this.targetWindow.requestAnimationFrame(()=>{const f=this.getScrollOffset(),p=this.getOffsetForIndex(e,d);if(!p){console.warn("Failed to get offset for index:",e);return}Dt(p[0],f)||u(d)})},u=l=>{this.targetWindow&&(s++,s<r?this.targetWindow.requestAnimationFrame(()=>a(l)):console.warn(`Failed to scroll to index ${e} after ${r} attempts.`))};a(o)},this.scrollBy=(e,{behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var e;const o=this.getMeasurements();let n;if(o.length===0)n=this.options.paddingStart;else if(this.options.lanes===1)n=((e=o[o.length-1])==null?void 0:e.end)??0;else{const s=Array(this.options.lanes).fill(null);let r=o.length-1;for(;r>=0&&s.some(a=>a===null);){const a=o[r];s[a.lane]===null&&(s[a.lane]=a.end),r--}n=Math.max(...s.filter(a=>a!==null))}return Math.max(n-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:o,behavior:n})=>{this.options.scrollToFn(e,{behavior:n,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(i)}}const Ne=(t,i,e,o)=>{for(;t<=i;){const n=(t+i)/2|0,s=e(n);if(s<o)t=n+1;else if(s>o)i=n-1;else return n}return t>0?t-1:0};function Kt({measurements:t,outerSize:i,scrollOffset:e,lanes:o}){const n=t.length-1,s=u=>t[u].start;if(t.length<=o)return{startIndex:0,endIndex:n};let r=Ne(0,n,s,e),a=r;if(o===1)for(;a<n&&t[a].end<e+i;)a++;else if(o>1){const u=Array(o).fill(0);for(;a<n&&u.some(c=>c<e+i);){const c=t[a];u[c.lane]=c.end,a++}const l=Array(o).fill(e+i);for(;r>=0&&l.some(c=>c>=e);){const c=t[r];l[c.lane]=c.start,r--}r=Math.max(0,r-r%o),a=Math.min(n,a+(o-1-a%o))}return{startIndex:r,endIndex:a}}const ze=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Ht(t){const i=m.useReducer(()=>({}),{})[1],e={...t,onChange:(n,s)=>{var r;s?ee.flushSync(i):i(),(r=t.onChange)==null||r.call(t,n,s)}},[o]=m.useState(()=>new Ut(e));return o.setOptions(e),ze(()=>o._didMount(),[]),ze(()=>o._willUpdate()),o}function Gt(t){return Ht({observeElementRect:Nt,observeElementOffset:qt,scrollToFn:Bt,...t})}function qe(t){let i=m.useRef({value:"",selectionStart:null,selectionEnd:null});return Et(t,"blur",e=>{let o=e.target;Te(o)&&(i.current={value:o.value,selectionStart:o.selectionStart,selectionEnd:o.selectionEnd})}),P(()=>{if(!Le(t)&&Te(t)&&t.isConnected){if(t.focus({preventScroll:!0}),t.value!==i.current.value)t.setSelectionRange(t.value.length,t.value.length);else{let{selectionStart:e,selectionEnd:o}=i.current;e!==null&&o!==null&&t.setSelectionRange(e,o)}i.current={value:"",selectionStart:null,selectionEnd:null}}})}var Xt=Object.defineProperty,Yt=(t,i,e)=>i in t?Xt(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,_e=(t,i,e)=>(Yt(t,typeof i!="symbol"?i+"":i,e),e),g=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(g||{}),U=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(U||{}),X=(t=>(t[t.Pointer=0]="Pointer",t[t.Focus=1]="Focus",t[t.Other=2]="Other",t))(X||{}),We=(t=>(t[t.OpenCombobox=0]="OpenCombobox",t[t.CloseCombobox=1]="CloseCombobox",t[t.GoToOption=2]="GoToOption",t[t.SetTyping=3]="SetTyping",t[t.RegisterOption=4]="RegisterOption",t[t.UnregisterOption=5]="UnregisterOption",t[t.DefaultToFirstOption=6]="DefaultToFirstOption",t[t.SetActivationTrigger=7]="SetActivationTrigger",t[t.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",t[t.SetInputElement=9]="SetInputElement",t[t.SetButtonElement=10]="SetButtonElement",t[t.SetOptionsElement=11]="SetOptionsElement",t[t.MarkInputAsMoved=12]="MarkInputAsMoved",t))(We||{});function xe(t,i=e=>e){let e=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,o=i(t.options.slice()),n=o.length>0&&o[0].dataRef.current.order!==null?o.sort((r,a)=>r.dataRef.current.order-a.dataRef.current.order):_t(o,r=>r.dataRef.current.domRef.current),s=e?n.indexOf(e):null;return s===-1&&(s=null),{options:n,activeOptionIndex:s}}let Jt={1(t){var i;if((i=t.dataRef.current)!=null&&i.disabled||t.comboboxState===1)return t;let e=t.inputElement?ce.Tracked(ut(t.inputElement)):t.inputPositionState;return{...t,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,inputPositionState:e,__demoMode:!1}},0(t){var i,e;if((i=t.dataRef.current)!=null&&i.disabled||t.comboboxState===0)return t;if((e=t.dataRef.current)!=null&&e.value){let o=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(o!==-1)return{...t,activeOptionIndex:o,comboboxState:0,__demoMode:!1,inputPositionState:ce.Idle}}return{...t,comboboxState:0,inputPositionState:ce.Idle,__demoMode:!1}},3(t,i){return t.isTyping===i.isTyping?t:{...t,isTyping:i.isTyping}},2(t,i){var e,o,n,s;if((e=t.dataRef.current)!=null&&e.disabled||t.optionsElement&&!((o=t.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:l,disabled:c}=t.virtual,b=i.focus===A.Specific?i.idx:Ie(i,{resolveItems:()=>l,resolveActiveIndex:()=>{var f,p;return(p=(f=t.activeOptionIndex)!=null?f:l.findIndex(v=>!c(v)))!=null?p:null},resolveDisabled:c,resolveId(){throw new Error("Function not implemented.")}}),d=(n=i.trigger)!=null?n:2;return t.activeOptionIndex===b&&t.activationTrigger===d?t:{...t,activeOptionIndex:b,activationTrigger:d,isTyping:!1,__demoMode:!1}}let r=xe(t);if(r.activeOptionIndex===null){let l=r.options.findIndex(c=>!c.dataRef.current.disabled);l!==-1&&(r.activeOptionIndex=l)}let a=i.focus===A.Specific?i.idx:Ie(i,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:l=>l.id,resolveDisabled:l=>l.dataRef.current.disabled}),u=(s=i.trigger)!=null?s:2;return t.activeOptionIndex===a&&t.activationTrigger===u?t:{...t,...r,isTyping:!1,activeOptionIndex:a,activationTrigger:u,__demoMode:!1}},4:(t,i)=>{var e,o,n,s;if((e=t.dataRef.current)!=null&&e.virtual)return{...t,options:[...t.options,i.payload]};let r=i.payload,a=xe(t,l=>(l.push(r),l));t.activeOptionIndex===null&&(n=(o=t.dataRef.current).isSelected)!=null&&n.call(o,i.payload.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(r));let u={...t,...a,activationTrigger:2};return(s=t.dataRef.current)!=null&&s.__demoMode&&t.dataRef.current.value===void 0&&(u.activeOptionIndex=0),u},5:(t,i)=>{var e;if((e=t.dataRef.current)!=null&&e.virtual)return{...t,options:t.options.filter(n=>n.id!==i.id)};let o=xe(t,n=>{let s=n.findIndex(r=>r.id===i.id);return s!==-1&&n.splice(s,1),n});return{...t,...o,activationTrigger:2}},6:(t,i)=>t.defaultToFirstOption===i.value?t:{...t,defaultToFirstOption:i.value},7:(t,i)=>t.activationTrigger===i.trigger?t:{...t,activationTrigger:i.trigger},8:(t,i)=>{var e,o;if(t.virtual===null)return{...t,virtual:{options:i.options,disabled:(e=i.disabled)!=null?e:()=>!1}};if(t.virtual.options===i.options&&t.virtual.disabled===i.disabled)return t;let n=t.activeOptionIndex;if(t.activeOptionIndex!==null){let s=i.options.indexOf(t.virtual.options[t.activeOptionIndex]);s!==-1?n=s:n=null}return{...t,activeOptionIndex:n,virtual:{options:i.options,disabled:(o=i.disabled)!=null?o:()=>!1}}},9:(t,i)=>t.inputElement===i.element?t:{...t,inputElement:i.element},10:(t,i)=>t.buttonElement===i.element?t:{...t,buttonElement:i.element},11:(t,i)=>t.optionsElement===i.element?t:{...t,optionsElement:i.element},12(t){return t.inputPositionState.kind!=="Tracked"?t:{...t,inputPositionState:ce.Moved}}};class Oe extends mt{constructor(i){super(i),_e(this,"actions",{onChange:e=>{let{onChange:o,compare:n,mode:s,value:r}=this.state.dataRef.current;return se(s,{0:()=>o?.(e),1:()=>{let a=r.slice(),u=a.findIndex(l=>n(l,e));return u===-1?a.push(e):a.splice(u,1),o?.(a)}})},registerOption:(e,o)=>(this.send({type:4,payload:{id:e,dataRef:o}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(o.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:e})}),goToOption:(e,o)=>(this.send({type:6,value:!1}),this.send({type:2,...e,trigger:o})),setIsTyping:e=>{this.send({type:3,isTyping:e})},closeCombobox:()=>{var e,o;this.send({type:1}),this.send({type:6,value:!1}),(o=(e=this.state.dataRef.current).onClose)==null||o.call(e)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:e=>{this.send({type:7,trigger:e})},selectActiveOption:()=>{let e=this.selectors.activeOptionIndex(this.state);if(e!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[e]);else{let{dataRef:o}=this.state.options[e];this.actions.onChange(o.current.value)}this.actions.goToOption({focus:A.Specific,idx:e})}},setInputElement:e=>{this.send({type:9,element:e})},setButtonElement:e=>{this.send({type:10,element:e})},setOptionsElement:e=>{this.send({type:11,element:e})}}),_e(this,"selectors",{activeDescendantId:e=>{var o,n;let s=this.selectors.activeOptionIndex(e);if(s!==null)return e.virtual?(n=e.options.find(r=>!r.dataRef.current.disabled&&e.dataRef.current.compare(r.dataRef.current.value,e.virtual.options[s])))==null?void 0:n.id:(o=e.options[s])==null?void 0:o.id},activeOptionIndex:e=>{if(e.defaultToFirstOption&&e.activeOptionIndex===null&&(e.virtual?e.virtual.options.length>0:e.options.length>0)){if(e.virtual){let{options:n,disabled:s}=e.virtual,r=n.findIndex(a=>{var u;return!((u=s?.(a))!=null&&u)});if(r!==-1)return r}let o=e.options.findIndex(n=>!n.dataRef.current.disabled);if(o!==-1)return o}return e.activeOptionIndex},activeOption:e=>{var o,n;let s=this.selectors.activeOptionIndex(e);return s===null?null:e.virtual?e.virtual.options[s??0]:(n=(o=e.options[s])==null?void 0:o.dataRef.current.value)!=null?n:null},isActive:(e,o,n)=>{var s;let r=this.selectors.activeOptionIndex(e);return r===null?!1:e.virtual?r===e.dataRef.current.calculateIndex(o):((s=e.options[r])==null?void 0:s.id)===n},shouldScrollIntoView:(e,o,n)=>!(e.virtual||e.__demoMode||e.comboboxState!==0||e.activationTrigger===0||!this.selectors.isActive(e,o,n)),didInputMove(e){return e.inputPositionState.kind==="Moved"}});{let e=this.state.id,o=je.get(null);this.disposables.add(o.on(gt.Push,n=>{!o.selectors.isTop(n,e)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>o.actions.push(e)),this.on(1,()=>o.actions.pop(e))}this.disposables.group(e=>{this.on(1,o=>{o.inputElement&&(e.dispose(),e.add(lt(o.inputElement,o.inputPositionState,()=>{this.send({type:12})})))})})}static new({id:i,virtual:e=null,__demoMode:o=!1}){var n;return new Oe({id:i,dataRef:{current:{}},comboboxState:o?0:1,isTyping:!1,options:[],virtual:e?{options:e.options,disabled:(n=e.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:o,inputPositionState:ce.Idle})}reduce(i,e){return se(e.type,Jt,i,e)}}const Be=m.createContext(null);function me(t){let i=m.useContext(Be);if(i===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,Ue),e}return i}function Ue({id:t,virtual:i=null,__demoMode:e=!1}){let o=m.useMemo(()=>Oe.new({id:t,virtual:i,__demoMode:e}),[]);return vt(()=>o.dispose()),o}let de=m.createContext(null);de.displayName="ComboboxDataContext";function ie(t){let i=m.useContext(de);if(i===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,ie),e}return i}let Ke=m.createContext(null);function Qt(t){let i=me("VirtualProvider"),e=ie("VirtualProvider"),{options:o}=e.virtual,n=F(i,f=>f.optionsElement),[s,r]=m.useMemo(()=>{let f=n;if(!f)return[0,0];let p=window.getComputedStyle(f);return[parseFloat(p.paddingBlockStart||p.paddingTop),parseFloat(p.paddingBlockEnd||p.paddingBottom)]},[n]),a=Gt({enabled:o.length!==0,scrollPaddingStart:s,scrollPaddingEnd:r,count:o.length,estimateSize(){return 40},getScrollElement(){return i.state.optionsElement},overscan:12}),[u,l]=m.useState(0);te(()=>{l(f=>f+1)},[o]);let c=a.getVirtualItems(),b=F(i,f=>f.activationTrigger===X.Pointer),d=F(i,i.selectors.activeOptionIndex);return c.length===0?null:j.createElement(Ke.Provider,{value:a},j.createElement("div",{style:{position:"relative",width:"100%",height:`${a.getTotalSize()}px`},ref:f=>{f&&(b||d!==null&&o.length>d&&a.scrollToIndex(d))}},c.map(f=>{var p;return j.createElement(m.Fragment,{key:f.key},j.cloneElement((p=t.children)==null?void 0:p.call(t,{...t.slot,option:o[f.index]}),{key:`${u}-${f.key}`,"data-index":f.index,"aria-setsize":o.length,"aria-posinset":f.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${f.start}px)`,overflowAnchor:"none"}}))})))}let Zt=m.Fragment;function en(t,i){let e=m.useId(),o=Rt(),{value:n,defaultValue:s,onChange:r,form:a,name:u,by:l,invalid:c=!1,disabled:b=o||!1,onClose:d,__demoMode:f=!1,multiple:p=!1,immediate:v=!1,virtual:x=null,nullable:T,...M}=t,$=Je(s),[O=p?[]:void 0,z]=Qe(n,r,$),S=Ue({id:e,virtual:x,__demoMode:f}),L=m.useRef({static:!1,hold:!1}),R=Ye(l),D=P(E=>x?l===null?x.options.indexOf(E):x.options.findIndex(Z=>R(Z,E)):S.state.options.findIndex(Z=>R(Z.dataRef.current.value,E))),H=m.useCallback(E=>se(N.mode,{[U.Multi]:()=>O.some(Z=>R(Z,E)),[U.Single]:()=>R(O,E)}),[O]),G=F(S,E=>E.virtual),y=P(()=>d?.()),N=m.useMemo(()=>({__demoMode:f,immediate:v,optionsPropsRef:L,value:O,defaultValue:$,disabled:b,invalid:c,mode:p?U.Multi:U.Single,virtual:x?G:null,onChange:z,isSelected:H,calculateIndex:D,compare:R,onClose:y}),[f,v,L,O,$,b,c,p,x,G,z,H,D,R,y]);te(()=>{var E;x&&S.send({type:We.UpdateVirtualConfiguration,options:x.options,disabled:(E=x.disabled)!=null?E:null})},[x,x?.options,x?.disabled]),te(()=>{S.state.dataRef.current=N},[N]);let[q,C,K,re]=F(S,E=>[E.comboboxState,E.buttonElement,E.inputElement,E.optionsElement]),J=je.get(null),ne=F(J,m.useCallback(E=>J.selectors.isTop(E,e),[J,e]));bt(ne,[C,K,re],()=>S.actions.closeCombobox());let Q=F(S,S.selectors.activeOptionIndex),ae=F(S,S.selectors.activeOption),h=he({open:q===g.Open,disabled:b,invalid:c,activeIndex:Q,activeOption:ae,value:O}),[B,w]=Ft(),_=i===null?{}:{ref:i},I=m.useCallback(()=>{if($!==void 0)return z?.($)},[z,$]),V=fe();return j.createElement(w,{value:B,props:{htmlFor:K?.id},slot:{open:q===g.Open,disabled:b}},j.createElement(ot,null,j.createElement(de.Provider,{value:N},j.createElement(Be.Provider,{value:S},j.createElement(It,{value:se(q,{[g.Open]:ge.Open,[g.Closed]:ge.Closed})},u!=null&&j.createElement(Ze,{disabled:b,data:O!=null?{[u]:O}:{},form:a,onReset:I}),V({ourProps:_,theirProps:M,slot:h,defaultTag:Zt,name:"Combobox"}))))))}let tn="input";function nn(t,i){var e,o;let n=me("Combobox.Input"),s=ie("Combobox.Input"),r=m.useId(),a=zt(),{id:u=a||`headlessui-combobox-input-${r}`,onChange:l,displayValue:c,disabled:b=s.disabled||!1,autoFocus:d=!1,type:f="text",...p}=t,v=m.useRef(null),x=ve(v,i,at(),n.actions.setInputElement),[T,M]=F(n,h=>[h.comboboxState,h.isTyping]),$=tt(),O=P(()=>{n.actions.onChange(null),n.state.optionsElement&&(n.state.optionsElement.scrollTop=0),n.actions.goToOption({focus:A.Nothing})}),z=m.useMemo(()=>{var h;return typeof c=="function"&&s.value!==void 0?(h=c(s.value))!=null?h:"":typeof s.value=="string"?s.value:""},[s.value,c]);Me(([h,B],[w,_])=>{if(n.state.isTyping)return;let I=v.current;I&&((_===g.Open&&B===g.Closed||h!==w)&&(I.value=h),requestAnimationFrame(()=>{if(n.state.isTyping||!I||Le(I))return;let{selectionStart:V,selectionEnd:E}=I;Math.abs((E??0)-(V??0))===0&&V===0&&I.setSelectionRange(I.value.length,I.value.length)}))},[z,T,M]),Me(([h],[B])=>{if(h===g.Open&&B===g.Closed){if(n.state.isTyping)return;let w=v.current;if(!w)return;let _=w.value,{selectionStart:I,selectionEnd:V,selectionDirection:E}=w;w.value="",w.value=_,E!==null?w.setSelectionRange(I,V,E):w.setSelectionRange(I,V)}},[T]);let S=m.useRef(!1),L=P(()=>{S.current=!0}),R=P(()=>{$.nextFrame(()=>{S.current=!1})}),D=P(h=>{switch(n.actions.setIsTyping(!0),h.key){case W.Enter:if(n.state.comboboxState!==g.Open||S.current)return;if(h.preventDefault(),h.stopPropagation(),n.selectors.activeOptionIndex(n.state)===null){n.actions.closeCombobox();return}n.actions.selectActiveOption(),s.mode===U.Single&&n.actions.closeCombobox();break;case W.ArrowDown:return h.preventDefault(),h.stopPropagation(),se(n.state.comboboxState,{[g.Open]:()=>n.actions.goToOption({focus:A.Next}),[g.Closed]:()=>n.actions.openCombobox()});case W.ArrowUp:return h.preventDefault(),h.stopPropagation(),se(n.state.comboboxState,{[g.Open]:()=>n.actions.goToOption({focus:A.Previous}),[g.Closed]:()=>{ee.flushSync(()=>n.actions.openCombobox()),s.value||n.actions.goToOption({focus:A.Last})}});case W.Home:if(n.state.comboboxState===g.Closed||h.shiftKey)break;return h.preventDefault(),h.stopPropagation(),n.actions.goToOption({focus:A.First});case W.PageUp:return h.preventDefault(),h.stopPropagation(),n.actions.goToOption({focus:A.First});case W.End:if(n.state.comboboxState===g.Closed||h.shiftKey)break;return h.preventDefault(),h.stopPropagation(),n.actions.goToOption({focus:A.Last});case W.PageDown:return h.preventDefault(),h.stopPropagation(),n.actions.goToOption({focus:A.Last});case W.Escape:return n.state.comboboxState!==g.Open?void 0:(h.preventDefault(),n.state.optionsElement&&!s.optionsPropsRef.current.static&&h.stopPropagation(),s.mode===U.Single&&s.value===null&&O(),n.actions.closeCombobox());case W.Tab:if(n.actions.setIsTyping(!1),n.state.comboboxState!==g.Open)return;s.mode===U.Single&&n.state.activationTrigger!==X.Focus&&n.actions.selectActiveOption(),n.actions.closeCombobox();break}}),H=P(h=>{l?.(h),s.mode===U.Single&&h.target.value===""&&O(),n.actions.openCombobox()}),G=P(h=>{var B,w,_;let I=(B=h.relatedTarget)!=null?B:$e.find(V=>V!==h.currentTarget);if(!((w=n.state.optionsElement)!=null&&w.contains(I))&&!((_=n.state.buttonElement)!=null&&_.contains(I))&&n.state.comboboxState===g.Open)return h.preventDefault(),s.mode===U.Single&&s.value===null&&O(),n.actions.closeCombobox()}),y=P(h=>{var B,w,_;let I=(B=h.relatedTarget)!=null?B:$e.find(V=>V!==h.currentTarget);(w=n.state.buttonElement)!=null&&w.contains(I)||(_=n.state.optionsElement)!=null&&_.contains(I)||s.disabled||s.immediate&&n.state.comboboxState!==g.Open&&$.microTask(()=>{ee.flushSync(()=>n.actions.openCombobox()),n.actions.setActivationTrigger(X.Focus)})}),N=Se(),q=Pt(),{isFocused:C,focusProps:K}=De({autoFocus:d}),{isHovered:re,hoverProps:J}=Ve({isDisabled:b}),ne=F(n,h=>h.optionsElement),Q=he({open:T===g.Open,disabled:b,invalid:s.invalid,hover:re,focus:C,autofocus:d}),ae=ye({ref:x,id:u,role:"combobox",type:f,"aria-controls":ne?.id,"aria-expanded":T===g.Open,"aria-activedescendant":F(n,n.selectors.activeDescendantId),"aria-labelledby":N,"aria-describedby":q,"aria-autocomplete":"list",defaultValue:(o=(e=t.defaultValue)!=null?e:s.defaultValue!==void 0?c?.(s.defaultValue):null)!=null?o:s.defaultValue,disabled:b||void 0,autoFocus:d,onCompositionStart:L,onCompositionEnd:R,onKeyDown:D,onChange:H,onFocus:y,onBlur:G},K,J);return fe()({ourProps:ae,theirProps:p,slot:Q,defaultTag:tn,name:"Combobox.Input"})}let on="button";function sn(t,i){let e=me("Combobox.Button"),o=ie("Combobox.Button"),[n,s]=m.useState(null),r=ve(i,s,e.actions.setButtonElement),a=m.useId(),{id:u=`headlessui-combobox-button-${a}`,disabled:l=o.disabled||!1,autoFocus:c=!1,...b}=t,[d,f,p]=F(e,y=>[y.comboboxState,y.inputElement,y.optionsElement]),v=qe(f),x=d===g.Open;dt(x,{trigger:n,action:m.useCallback(y=>{if(n!=null&&n.contains(y.target))return le.Ignore;if(f!=null&&f.contains(y.target))return le.Ignore;let N=y.target.closest('[role="option"]:not([data-disabled])');return Ct(N)?le.Select(N):p!=null&&p.contains(y.target)?le.Ignore:le.Close},[n,f,p]),close:e.actions.closeCombobox,select:e.actions.selectActiveOption});let T=P(y=>{switch(y.key){case W.Space:case W.Enter:y.preventDefault(),y.stopPropagation(),e.state.comboboxState===g.Closed&&ee.flushSync(()=>e.actions.openCombobox()),v();return;case W.ArrowDown:y.preventDefault(),y.stopPropagation(),e.state.comboboxState===g.Closed&&(ee.flushSync(()=>e.actions.openCombobox()),e.state.dataRef.current.value||e.actions.goToOption({focus:A.First})),v();return;case W.ArrowUp:y.preventDefault(),y.stopPropagation(),e.state.comboboxState===g.Closed&&(ee.flushSync(()=>e.actions.openCombobox()),e.state.dataRef.current.value||e.actions.goToOption({focus:A.Last})),v();return;case W.Escape:if(e.state.comboboxState!==g.Open)return;y.preventDefault(),e.state.optionsElement&&!o.optionsPropsRef.current.static&&y.stopPropagation(),ee.flushSync(()=>e.actions.closeCombobox()),v();return;default:return}}),M=pt(()=>{e.state.comboboxState===g.Open?e.actions.closeCombobox():e.actions.openCombobox(),v()}),$=Se([u]),{isFocusVisible:O,focusProps:z}=De({autoFocus:c}),{isHovered:S,hoverProps:L}=Ve({isDisabled:l}),{pressed:R,pressProps:D}=Ge({disabled:l}),H=he({open:d===g.Open,active:R||d===g.Open,disabled:l,invalid:o.invalid,value:o.value,hover:S,focus:O}),G=ye({ref:r,id:u,type:Xe(t,n),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":p?.id,"aria-expanded":d===g.Open,"aria-labelledby":$,disabled:l||void 0,autoFocus:c,onKeyDown:T},M,z,L,D);return fe()({ourProps:G,theirProps:b,slot:H,defaultTag:on,name:"Combobox.Button"})}let rn="div",an=Ce.RenderStrategy|Ce.Static;function ln(t,i){var e,o,n;let s=m.useId(),{id:r=`headlessui-combobox-options-${s}`,hold:a=!1,anchor:u,portal:l=!1,modal:c=!0,transition:b=!1,...d}=t,f=me("Combobox.Options"),p=ie("Combobox.Options"),v=st(u);v&&(l=!0);let[x,T]=it(v),[M,$]=m.useState(null),O=rt(),z=ve(i,v?x:null,f.actions.setOptionsElement,$),[S,L,R,D,H]=F(f,k=>[k.comboboxState,k.inputElement,k.buttonElement,k.optionsElement,k.activationTrigger]),G=we(L||R),y=we(D),N=wt(),[q,C]=Tt(b,M,N!==null?(N&ge.Open)===ge.Open:S===g.Open);xt(q,L,f.actions.closeCombobox);let K=p.__demoMode?!1:c&&S===g.Open;yt(K,y);let re=p.__demoMode?!1:c&&S===g.Open;ht(re,{allowed:m.useCallback(()=>[L,R,D],[L,R,D])});let J=F(f,f.selectors.didInputMove)?!1:q;te(()=>{var k;p.optionsPropsRef.current.static=(k=t.static)!=null?k:!1},[p.optionsPropsRef,t.static]),te(()=>{p.optionsPropsRef.current.hold=a},[p.optionsPropsRef,a]),$t(S===g.Open,{container:D,accept(k){return k.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:k.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(k){k.setAttribute("role","none")}});let ne=Se([R?.id]),Q=he({open:S===g.Open,option:void 0}),ae=P(()=>{f.actions.setActivationTrigger(X.Pointer)}),h=P(k=>{k.preventDefault(),f.actions.setActivationTrigger(X.Pointer)}),B=ye(v?O():{},{"aria-labelledby":ne,role:"listbox","aria-multiselectable":p.mode===U.Multi?!0:void 0,id:r,ref:z,style:{...d.style,...T,"--input-width":Ee(q,L,!0).width,"--button-width":Ee(q,R,!0).width},onWheel:H===X.Pointer?void 0:ae,onMouseDown:h,...Mt(C)}),w=q&&S===g.Closed&&!t.static,_=Re(w,(e=p.virtual)==null?void 0:e.options),I=Re(w,p.value),V=m.useCallback(k=>p.compare(I,k),[p.compare,I]),E=m.useMemo(()=>{if(!p.virtual)return p;if(_===void 0)throw new Error("Missing `options` in virtual mode");return _!==p.virtual.options?{...p,virtual:{...p.virtual,options:_}}:p},[p,_,(o=p.virtual)==null?void 0:o.options]);p.virtual&&Object.assign(d,{children:j.createElement(de.Provider,{value:E},j.createElement(Qt,{slot:Q},d.children))});let Z=fe(),He=m.useMemo(()=>p.mode===U.Multi?p:{...p,isSelected:V},[p,V]);return j.createElement(St,{enabled:l?t.static||q:!1,ownerDocument:G},j.createElement(de.Provider,{value:He},Z({ourProps:B,theirProps:{...d,children:j.createElement(kt,{freeze:w},typeof d.children=="function"?(n=d.children)==null?void 0:n.call(d,Q):d.children)},slot:Q,defaultTag:rn,features:an,visible:J,name:"Combobox.Options"})))}let un="div";function cn(t,i){var e,o,n;let s=ie("Combobox.Option"),r=me("Combobox.Option"),a=m.useId(),{id:u=`headlessui-combobox-option-${a}`,value:l,disabled:c=(n=(o=(e=s.virtual)==null?void 0:e.disabled)==null?void 0:o.call(e,l))!=null?n:!1,order:b=null,...d}=t,[f]=F(r,C=>[C.inputElement]),p=qe(f),v=F(r,m.useCallback(C=>r.selectors.isActive(C,l,u),[l,u])),x=s.isSelected(l),T=m.useRef(null),M=et({disabled:c,value:l,domRef:T,order:b}),$=m.useContext(Ke),O=ve(i,T,$?$.measureElement:null),z=P(()=>{r.actions.setIsTyping(!1),r.actions.onChange(l)});te(()=>r.actions.registerOption(u,M),[M,u]);let S=F(r,m.useCallback(C=>r.selectors.shouldScrollIntoView(C,l,u),[l,u]));te(()=>{if(S)return nt().requestAnimationFrame(()=>{var C,K;(K=(C=T.current)==null?void 0:C.scrollIntoView)==null||K.call(C,{block:"nearest"})})},[S,T]);let L=P(C=>{C.preventDefault(),C.button===ft.Left&&(c||(z(),Ot()||requestAnimationFrame(()=>p()),s.mode===U.Single&&r.actions.closeCombobox()))}),R=P(()=>{if(c)return r.actions.goToOption({focus:A.Nothing});let C=s.calculateIndex(l);r.actions.goToOption({focus:A.Specific,idx:C})}),D=ct(),H=P(C=>D.update(C)),G=P(C=>{if(!D.wasMoved(C)||c||v&&r.state.activationTrigger===X.Pointer)return;let K=s.calculateIndex(l);r.actions.goToOption({focus:A.Specific,idx:K},X.Pointer)}),y=P(C=>{D.wasMoved(C)&&(c||v&&(s.optionsPropsRef.current.hold||r.state.activationTrigger===X.Pointer&&r.actions.goToOption({focus:A.Nothing})))}),N=he({active:v,focus:v,selected:x,disabled:c}),q={id:u,ref:O,role:"option",tabIndex:c===!0?void 0:-1,"aria-disabled":c===!0?!0:void 0,"aria-selected":x,disabled:void 0,onMouseDown:L,onFocus:R,onPointerEnter:H,onMouseEnter:H,onPointerMove:G,onMouseMove:G,onPointerLeave:y,onMouseLeave:y};return fe()({ourProps:q,theirProps:d,slot:N,defaultTag:un,name:"Combobox.Option"})}let dn=pe(en),pn=pe(sn),fn=pe(nn),hn=At,mn=pe(ln),gn=pe(cn),ue=Object.assign(dn,{Input:fn,Button:pn,Label:hn,Options:mn,Option:gn});function vn({options:t,value:i,onChange:e,placeholder:o="Select an option...",className:n,disabled:s=!1}){const[r,a]=m.useState(""),u=r===""?t:t.filter(l=>l.label.toLowerCase().includes(r.toLowerCase()));return Y.jsx("div",{className:be("relative",n),children:Y.jsxs(ue,{value:i,onChange:l=>{l&&e?.(l)},disabled:s,children:[Y.jsx(ue.Input,{className:be("w-full rounded-md border border-input bg-background py-2 pl-3 pr-10 text-base leading-5 text-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background",s&&"cursor-not-allowed opacity-50"),displayValue:l=>l?.label||"",onChange:l=>a(l.target.value),placeholder:o}),Y.jsx(ue.Button,{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:Y.jsx("svg",{className:"h-5 w-5 text-muted-foreground",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),Y.jsx(ue.Options,{className:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-background py-1 text-base shadow-lg ring-1 ring-border focus:outline-none",children:u.length===0&&r!==""?Y.jsx("div",{className:"relative cursor-default select-none px-4 py-2 text-muted-foreground",children:"Nothing found."}):u.map(l=>Y.jsx(ue.Option,{value:l,className:({active:c})=>be("relative cursor-default select-none py-2 pl-10 pr-4",c?"bg-accent text-accent-foreground":"text-foreground"),children:l.label},l.id))})]})})}vn.__docgenInfo={description:"",methods:[],displayName:"Combobox",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  id: string | number;
  label: string;
  value: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}}]}}],raw:"ComboboxOption[]"},description:""},value:{required:!1,tsType:{name:"union",raw:"ComboboxOption | null",elements:[{name:"signature",type:"object",raw:`{
  id: string | number;
  label: string;
  value: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}}]}},{name:"null"}]},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: ComboboxOption) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  id: string | number;
  label: string;
  value: string;
}`,signature:{properties:[{key:"id",value:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}],required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}}]}},name:"value"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Select an option...'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{vn as C};
