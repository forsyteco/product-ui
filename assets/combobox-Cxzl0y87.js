import{r as u,j as o}from"./iframe-CeVB8obd.js";import{c as d}from"./tailwind-CDN07tui.js";import{H as Q,k as S,B as H,U as T,a as A}from"./combobox-Dd7MZ-dg.js";const L=u.createContext(null);function g(){const e=u.useContext(L);if(!e)throw new globalThis.Error("Combobox.* must be used within <Combobox.Root>.");return e}function U(e,t){const s=t.trim().toLowerCase();return s?e.label.toLowerCase().includes(s):!0}function z({options:e,value:t,defaultValue:s=null,onChange:l,query:n,defaultQuery:i="",onQueryChange:a,placeholder:r="Select an optionâ€¦",disabled:f=!1,invalid:p=!1,clearable:h=!0,filterFn:b,renderOption:x,className:F,children:R}){const[I,V]=u.useState(s),j=t!==void 0?t:I,C=u.useCallback(c=>{t===void 0&&V(c),l?.(c)},[l,t]),[B,E]=u.useState(i),m=n!==void 0?n:B,w=u.useCallback(c=>{n===void 0&&E(c),a?.(c)},[a,n]),[k,y]=u.useState(!1),O=u.useRef(null),v=b??U,N=u.useMemo(()=>m.trim()?e.filter(c=>v(c,m)):e,[e,m,v]),M=u.useMemo(()=>({options:e,filteredOptions:N,value:j,setValue:C,query:m,setQuery:w,placeholder:r,disabled:f,invalid:p,isOpen:k,setIsOpen:y,clearable:h,rootRef:O,filterFn:v,renderOption:x}),[e,N,j,C,m,w,r,f,p,k,h,v,x]);return o.jsx(L.Provider,{value:M,children:o.jsx("div",{ref:O,className:d("relative",F),children:o.jsx(Q,{by:"id",value:j,onChange:c=>{C(c),y(!1)},onClose:()=>y(!1),disabled:f,nullable:!0,children:R})})})}function W({className:e,...t}){return o.jsx("label",{...t,className:d("mb-1 block text-sm font-medium text-foreground",e)})}function Z({className:e,...t}){return o.jsx("div",{...t,className:d("relative",e)})}function q({className:e,displayValue:t,onValueTextChange:s,onFocus:l,onBlur:n,openOnFocus:i=!0,...a}){const r=g(),f=t??(b=>b?.label??""),p=a.placeholder??r.placeholder,h={...a,placeholder:p,displayValue:f};return o.jsx(S,{...h,className:d("w-full rounded-md border bg-background py-2 pl-3 pr-20 text-base leading-5 text-foreground","border-input focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background",r.invalid&&"border-destructive focus:ring-destructive",r.disabled&&"cursor-not-allowed opacity-50",e),onChange:b=>{const x=b.target.value;r.setQuery(x),s?.(x),r.disabled||r.setIsOpen(!0)},onFocus:b=>{!r.disabled&&i&&r.setIsOpen(!0),l?.(b)},onBlur:n})}function D({className:e,"aria-label":t,onClick:s,...l}){const n=g();return n.clearable&&!!n.value&&!n.disabled?o.jsx("button",{type:"button",...l,"aria-label":t??"Clear selection",className:d("absolute inset-y-0 right-7 flex items-center px-2 text-muted-foreground hover:text-foreground",e),onClick:a=>{a.preventDefault(),n.setValue(null),n.setQuery(""),n.setIsOpen(!1),s?.(a)},children:o.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:o.jsx("path",{fillRule:"evenodd",d:"M10 8.586 4.293 2.879A1 1 0 1 0 2.879 4.293L8.586 10l-5.707 5.707a1 1 0 1 0 1.414 1.414L10 11.414l5.707 5.707a1 1 0 0 0 1.414-1.414L11.414 10l5.707-5.707A1 1 0 0 0 15.707 2.88L10 8.586Z",clipRule:"evenodd"})})}):null}function G({className:e,children:t,onClick:s,...l}){const n=g();return o.jsx(H,{...l,"aria-label":l["aria-label"]??"Toggle options",className:d("absolute inset-y-0 right-0 flex items-center pr-2 text-muted-foreground",n.disabled&&"cursor-not-allowed opacity-50",e),onClick:s,children:t??o.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})}function J({className:e,children:t,...s}){const l=g();if(l.disabled)return null;const n=l.filteredOptions.length>0;return o.jsx(T,{...s,anchor:"bottom start",className:d("z-10 max-h-60 w-[var(--input-width)] overflow-auto rounded-md bg-background py-1 text-base shadow-lg","invisible empty:invisible data-open:visible","ring-1 ring-border focus:outline-none",e),children:t||(n?l.filteredOptions.map(i=>o.jsx(X,{option:i},i.id)):o.jsx(K,{}))})}function K({className:e,...t}){return o.jsx("div",{...t,className:d("cursor-default select-none px-4 py-2 text-muted-foreground",e),children:"Nothing found."})}function X({option:e,className:t,children:s,...l}){const n=g();return o.jsx(A,{...l,value:e,disabled:e.disabled,className:({active:i,selected:a,disabled:r})=>d("relative select-none py-2 pl-3 pr-4",r?"cursor-not-allowed opacity-50":"cursor-default",i?"bg-accent text-accent-foreground":"text-foreground",a&&"font-medium",typeof t=="function"?t({active:i,selected:a,disabled:r}):t),children:({active:i,selected:a,disabled:r})=>{const f=s||(n.renderOption?n.renderOption(e,{active:i,selected:a,disabled:r}):e.label);return o.jsx(o.Fragment,{children:f})}})}const P={Root:z,Label:W,Control:Z,Input:q,ClearButton:D,ToggleButton:G,Options:J};export{P as C};
