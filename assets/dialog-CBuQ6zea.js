import{r as c,R as u,j as x}from"./iframe-CeYd32X8.js";import{c as _}from"./tailwind-CDN07tui.js";import{o as ke,a as O,d as Re,i as te,t as Ie,n as L}from"./keyboard-BoF71p42.js";import{E as se}from"./use-event-listener-YoiA5kE_.js";import{I as U,u as ce,c as Pe,e as Ce,x as Se,S as je,a as qe,f as Ae,p as Oe,l as re,t as _e,X as Le}from"./portal-0gor4Twm.js";import{n as de,Y as P,y as B,o as N,u as H,p as Be,K as j,t as fe,A as ne}from"./use-sync-refs-ry5utqyI.js";import{y as Ye}from"./use-inert-others-BnO2WJMG.js";import{u as Me,a as q,j as oe,x as Ke,S as Ve}from"./use-tab-direction-CpZ9KP3-.js";import{l as pe,K as ze,O as me}from"./transition-ChhotIx-.js";import{C as He}from"./close-provider-DQYUtmEZ.js";import{u as ge,i as A,s as Ue}from"./open-closed-DQGie1tM.js";import{M as We,H as Ge}from"./description-9wIlOIiQ.js";import{f as ve}from"./use-is-mounted-De8ms31j.js";import{m as W,n as z}from"./active-element-history-Dvi1_BFb.js";import{f as ae,s as le}from"./hidden-DipbFeWg.js";import{v as S,T as y,w,A as ie}from"./focus-management-DoY0kjxM.js";function Qe(e,t=typeof document<"u"?document.defaultView:null,r){let n=U(e,"escape");se(t,"keydown",o=>{n&&(o.defaultPrevented||o.key===ke.Escape&&r(o))})}function Xe(){var e;let[t]=c.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=c.useState((e=t?.matches)!=null?e:!1);return de(()=>{if(!t)return;function o(l){n(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),r}function he(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Ie(r.current)&&t.add(r.current);return t}let Je="div";var D=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(D||{});function Ze(e,t){let r=c.useRef(null),n=B(r,t),{initialFocus:o,initialFocusFallback:l,containers:s,features:a=15,...d}=e;pe()||(a=0);let i=ce(r.current);nt(a,{ownerDocument:i});let p=ot(a,{ownerDocument:i,container:r,initialFocus:o,initialFocusFallback:l});at(a,{ownerDocument:i,container:r,containers:s,previousActiveElement:p});let k=Me(),T=N(m=>{if(!O(r.current))return;let F=r.current;(g=>g())(()=>{H(k.current,{[q.Forwards]:()=>{S(F,y.First,{skipElements:[m.relatedTarget,l]})},[q.Backwards]:()=>{S(F,y.Last,{skipElements:[m.relatedTarget,l]})}})})}),h=U(!!(a&2),"focus-trap#tab-lock"),v=Be(),$=c.useRef(!1),b={ref:n,onKeyDown(m){m.key=="Tab"&&($.current=!0,v.requestAnimationFrame(()=>{$.current=!1}))},onBlur(m){if(!(a&4))return;let F=he(s);O(r.current)&&F.add(r.current);let g=m.relatedTarget;te(g)&&g.dataset.headlessuiFocusGuard!=="true"&&(we(F,g)||($.current?S(r.current,H(k.current,{[q.Forwards]:()=>y.Next,[q.Backwards]:()=>y.Previous})|y.WrapAround,{relativeTo:m.target}):te(m.target)&&w(m.target)))}},E=j();return u.createElement(u.Fragment,null,h&&u.createElement(ae,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:T,features:le.Focusable}),E({ourProps:b,theirProps:d,defaultTag:Je,name:"FocusTrap"}),h&&u.createElement(ae,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:T,features:le.Focusable}))}let et=P(Ze),tt=Object.assign(et,{features:D});function rt(e=!0){let t=c.useRef(z.slice());return W(([r],[n])=>{n===!0&&r===!1&&fe(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=z.slice())},[e,z,t]),N(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function nt(e,{ownerDocument:t}){let r=!!(e&8),n=rt(r);W(()=>{r||Re(t?.body)&&w(n())},[r]),Pe(()=>{r&&w(n())})}function ot(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:o}){let l=c.useRef(null),s=U(!!(e&1),"focus-trap#initial-focus"),a=ve();return W(()=>{if(e===0)return;if(!s){o!=null&&o.current&&w(o.current);return}let d=r.current;d&&fe(()=>{if(!a.current)return;let i=t?.activeElement;if(n!=null&&n.current){if(n?.current===i){l.current=i;return}}else if(d.contains(i)){l.current=i;return}if(n!=null&&n.current)w(n.current);else{if(e&16){if(S(d,y.First|y.AutoFocus)!==ie.Error)return}else if(S(d,y.First)!==ie.Error)return;if(o!=null&&o.current&&(w(o.current),t?.activeElement===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t?.activeElement})},[o,s,e]),l}function at(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:o}){let l=ve(),s=!!(e&4);se(t?.defaultView,"focus",a=>{if(!s||!l.current)return;let d=he(n);O(r.current)&&d.add(r.current);let i=o.current;if(!i)return;let p=a.target;O(p)?we(d,p)?(o.current=p,w(p)):(a.preventDefault(),a.stopPropagation(),w(i)):w(o.current)},!0)}function we(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var lt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(lt||{}),it=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(it||{});let ut={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},G=c.createContext(null);G.displayName="DialogContext";function Y(e){let t=c.useContext(G);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Y),r}return t}function st(e,t){return H(t.type,ut,e,t)}let ue=P(function(e,t){let r=c.useId(),{id:n=`headlessui-dialog-${r}`,open:o,onClose:l,initialFocus:s,role:a="dialog",autoFocus:d=!0,__demoMode:i=!1,unmount:p=!1,...k}=e,T=c.useRef(!1);a=(function(){return a==="dialog"||a==="alertdialog"?a:(T.current||(T.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let h=ge();o===void 0&&h!==null&&(o=(h&A.Open)===A.Open);let v=c.useRef(null),$=B(v,t),b=ce(v.current),E=o?0:1,[m,F]=c.useReducer(st,{titleId:null,descriptionId:null,panelRef:c.createRef()}),g=N(()=>l(!1)),Q=N(f=>F({type:0,id:f})),R=pe()?E===0:!1,[Ee,ye]=Ce(),Te={get current(){var f;return(f=m.panelRef.current)!=null?f:v.current}},K=Ke(),{resolveContainers:V}=Ve({mainTreeNode:K,portals:Ee,defaultContainers:[Te]}),X=h!==null?(h&A.Closing)===A.Closing:!1;Ye(i||X?!1:R,{allowed:N(()=>{var f,ee;return[(ee=(f=v.current)==null?void 0:f.closest("[data-headlessui-portal]"))!=null?ee:null]}),disallowed:N(()=>{var f;return[(f=K?.closest("body > *:not(#headlessui-portal-root)"))!=null?f:null]})});let I=Se.get(null);de(()=>{if(R)return I.actions.push(n),()=>I.actions.pop(n)},[I,n,R]);let J=je(I,c.useCallback(f=>I.selectors.isTop(f,n),[I,n]));qe(J,V,f=>{f.preventDefault(),g()}),Qe(J,b?.defaultView,f=>{f.preventDefault(),f.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),g()}),Ae(i||X?!1:R,b,V),Oe(R,v,g);let[$e,be]=Ge(),Fe=c.useMemo(()=>[{dialogState:E,close:g,setTitleId:Q,unmount:p},m],[E,g,Q,p,m]),Z=L({open:E===0}),De={ref:$,id:n,role:a,tabIndex:-1,"aria-modal":i?void 0:E===0?!0:void 0,"aria-labelledby":m.titleId,"aria-describedby":$e,unmount:p},xe=!Xe(),C=D.None;R&&!i&&(C|=D.RestoreFocus,C|=D.TabLock,d&&(C|=D.AutoFocus),xe&&(C|=D.InitialFocus));let Ne=j();return u.createElement(Ue,null,u.createElement(re,{force:!0},u.createElement(_e,null,u.createElement(G.Provider,{value:Fe},u.createElement(Le,{target:v},u.createElement(re,{force:!1},u.createElement(be,{slot:Z},u.createElement(ye,null,u.createElement(tt,{initialFocus:s,initialFocusFallback:v,containers:V,features:C},u.createElement(He,{value:g},Ne({ourProps:De,theirProps:k,slot:Z,defaultTag:ct,features:dt,visible:E===0,name:"Dialog"})))))))))))}),ct="div",dt=ne.RenderStrategy|ne.Static;function ft(e,t){let{transition:r=!1,open:n,...o}=e,l=ge(),s=e.hasOwnProperty("open")||l!==null,a=e.hasOwnProperty("onClose");if(!s&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!o.static?u.createElement(oe,null,u.createElement(ze,{show:n,transition:r,unmount:o.unmount},u.createElement(ue,{ref:t,...o}))):u.createElement(oe,null,u.createElement(ue,{ref:t,open:n,...o}))}let pt="div";function mt(e,t){let r=c.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:o=!1,...l}=e,[{dialogState:s,unmount:a},d]=Y("Dialog.Panel"),i=B(t,d.panelRef),p=L({open:s===0}),k=N(b=>{b.stopPropagation()}),T={ref:i,id:n,onClick:k},h=o?me:c.Fragment,v=o?{unmount:a}:{},$=j();return u.createElement(h,{...v},$({ourProps:T,theirProps:l,slot:p,defaultTag:pt,name:"Dialog.Panel"}))}let gt="div";function vt(e,t){let{transition:r=!1,...n}=e,[{dialogState:o,unmount:l}]=Y("Dialog.Backdrop"),s=L({open:o===0}),a={ref:t,"aria-hidden":!0},d=r?me:c.Fragment,i=r?{unmount:l}:{},p=j();return u.createElement(d,{...i},p({ourProps:a,theirProps:n,slot:s,defaultTag:gt,name:"Dialog.Backdrop"}))}let ht="h2";function wt(e,t){let r=c.useId(),{id:n=`headlessui-dialog-title-${r}`,...o}=e,[{dialogState:l,setTitleId:s}]=Y("Dialog.Title"),a=B(t);c.useEffect(()=>(s(n),()=>s(null)),[n,s]);let d=L({open:l===0}),i={ref:a,id:n};return j()({ourProps:i,theirProps:o,slot:d,defaultTag:ht,name:"Dialog.Title"})}let Et=P(ft),yt=P(mt);P(vt);let Tt=P(wt),M=Object.assign(Et,{Panel:yt,Title:Tt,Description:We});function $t({open:e,onClose:t,children:r,className:n}){return x.jsx(M,{open:e,onClose:t,children:x.jsxs("div",{className:_("relative z-50",n),children:[x.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),x.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:r})]})})}function bt({children:e,className:t}){return x.jsx(M.Panel,{className:_("w-full max-w-md rounded-lg bg-white p-6 shadow-xl",t),children:e})}function Ft({children:e,className:t}){return x.jsx(M.Title,{className:_("text-lg font-medium text-gray-900",t),children:e})}function Dt({children:e,className:t}){return x.jsx(M.Description,{className:_("mt-2 text-sm text-gray-600",t),children:e})}bt.__docgenInfo={description:"",methods:[],displayName:"DialogPanel",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};Ft.__docgenInfo={description:"",methods:[],displayName:"DialogTitle",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};Dt.__docgenInfo={description:"",methods:[],displayName:"DialogDescription",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};$t.__docgenInfo={description:"",methods:[],displayName:"Dialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};export{$t as D,bt as a,Ft as b,Dt as c};
