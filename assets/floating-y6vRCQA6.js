import{r as g,b as de}from"./iframe-CeVB8obd.js";import{n as ot,a as me,o as Ut,p as ge}from"./use-sync-refs-BoOcFdrF.js";import{r as ct}from"./index-hJDHe0xh.js";import{a as he}from"./keyboard-CPYOBzPz.js";function Pt(t){if(t===null)return{width:0,height:0};let{width:e,height:n}=t.getBoundingClientRect();return{width:e,height:n}}function _n(t,e,n=!1){let[o,r]=g.useState(()=>Pt(e));return ot(()=>{if(!e||!t)return;let s=me();return s.requestAnimationFrame(function i(){s.requestAnimationFrame(i),r(l=>{let c=Pt(e);return c.width===l.width&&c.height===l.height?l:c})}),()=>{s.dispose()}},[e,t]),n?{width:`${o.width}px`,height:`${o.height}px`}:o}function dt(){return typeof window<"u"}function Q(t){return Kt(t)?(t.nodeName||"").toLowerCase():"#document"}function B(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function j(t){var e;return(e=(Kt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Kt(t){return dt()?t instanceof Node||t instanceof B(t).Node:!1}function $(t){return dt()?t instanceof Element||t instanceof B(t).Element:!1}function _(t){return dt()?t instanceof HTMLElement||t instanceof B(t).HTMLElement:!1}function Dt(t){return!dt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof B(t).ShadowRoot}const pe=new Set(["inline","contents"]);function rt(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=W(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!pe.has(r)}const we=new Set(["table","td","th"]);function xe(t){return we.has(Q(t))}const ye=[":popover-open",":modal"];function mt(t){return ye.some(e=>{try{return t.matches(e)}catch{return!1}})}const ve=["transform","translate","scale","rotate","perspective"],be=["transform","translate","scale","rotate","perspective","filter"],Re=["paint","layout","strict","content"];function At(t){const e=Ot(),n=$(t)?W(t):t;return ve.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||be.some(o=>(n.willChange||"").includes(o))||Re.some(o=>(n.contain||"").includes(o))}function Ce(t){let e=q(t);for(;_(e)&&!J(e);){if(At(e))return e;if(mt(e))return null;e=q(e)}return null}function Ot(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Se=new Set(["html","body","#document"]);function J(t){return Se.has(Q(t))}function W(t){return B(t).getComputedStyle(t)}function gt(t){return $(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function q(t){if(Q(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Dt(t)&&t.host||j(t);return Dt(e)?e.host:e}function Gt(t){const e=q(t);return J(e)?t.ownerDocument?t.ownerDocument.body:t.body:_(e)&&rt(e)?e:Gt(e)}function et(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=Gt(t),s=r===((o=t.ownerDocument)==null?void 0:o.body),i=B(r);if(s){const l=Rt(i);return e.concat(i,i.visualViewport||[],rt(r)?r:[],l&&n?et(l):[])}return e.concat(r,et(r,[],n))}function Rt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ae(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:o}=e;return n+"/"+o}).join(" "):navigator.userAgent}const U=Math.min,D=Math.max,nt=Math.round,st=Math.floor,V=t=>({x:t,y:t}),Oe={left:"right",right:"left",bottom:"top",top:"bottom"},Ee={start:"end",end:"start"};function Lt(t,e,n){return D(t,U(e,n))}function Z(t,e){return typeof t=="function"?t(e):t}function X(t){return t.split("-")[0]}function it(t){return t.split("-")[1]}function Jt(t){return t==="x"?"y":"x"}function Qt(t){return t==="y"?"height":"width"}const Te=new Set(["top","bottom"]);function Y(t){return Te.has(X(t))?"y":"x"}function Zt(t){return Jt(Y(t))}function Fe(t,e,n){n===void 0&&(n=!1);const o=it(t),r=Zt(t),s=Qt(r);let i=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(i=ft(i)),[i,ft(i)]}function Me(t){const e=ft(t);return[Ct(t),e,Ct(e)]}function Ct(t){return t.replace(/start|end/g,e=>Ee[e])}const Ht=["left","right"],$t=["right","left"],Pe=["top","bottom"],De=["bottom","top"];function Le(t,e,n){switch(t){case"top":case"bottom":return n?e?$t:Ht:e?Ht:$t;case"left":case"right":return e?Pe:De;default:return[]}}function He(t,e,n,o){const r=it(t);let s=Le(X(t),n==="start",o);return r&&(s=s.map(i=>i+"-"+r),e&&(s=s.concat(s.map(Ct)))),s}function ft(t){return t.replace(/left|right|bottom|top/g,e=>Oe[e])}function $e(t){return{top:0,right:0,bottom:0,left:0,...t}}function ke(t){return typeof t!="number"?$e(t):{top:t,right:t,bottom:t,left:t}}function at(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}function kt(t,e,n){let{reference:o,floating:r}=t;const s=Y(e),i=Zt(e),l=Qt(i),c=X(e),f=s==="y",a=o.x+o.width/2-r.width/2,m=o.y+o.height/2-r.height/2,h=o[l]/2-r[l]/2;let u;switch(c){case"top":u={x:a,y:o.y-r.height};break;case"bottom":u={x:a,y:o.y+o.height};break;case"right":u={x:o.x+o.width,y:m};break;case"left":u={x:o.x-r.width,y:m};break;default:u={x:o.x,y:o.y}}switch(it(e)){case"start":u[i]-=h*(n&&f?-1:1);break;case"end":u[i]+=h*(n&&f?-1:1);break}return u}async function te(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:s,rects:i,elements:l,strategy:c}=t,{boundary:f="clippingAncestors",rootBoundary:a="viewport",elementContext:m="floating",altBoundary:h=!1,padding:u=0}=Z(e,t),d=ke(u),w=l[h?m==="floating"?"reference":"floating":m],y=at(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:f,rootBoundary:a,strategy:c})),v=m==="floating"?{x:o,y:r,width:i.floating.width,height:i.floating.height}:i.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),b=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},R=at(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:x,strategy:c}):v);return{top:(y.top-R.top+d.top)/b.y,bottom:(R.bottom-y.bottom+d.bottom)/b.y,left:(y.left-R.left+d.left)/b.x,right:(R.right-y.right+d.right)/b.x}}const Ie=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:s=[],platform:i}=n,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let f=await i.getElementRects({reference:t,floating:e,strategy:r}),{x:a,y:m}=kt(f,o,c),h=o,u={},d=0;for(let w=0;w<l.length;w++){var p;const{name:y,fn:v}=l[w],{x,y:b,data:R,reset:C}=await v({x:a,y:m,initialPlacement:o,placement:h,strategy:r,middlewareData:u,rects:f,platform:{...i,detectOverflow:(p=i.detectOverflow)!=null?p:te},elements:{reference:t,floating:e}});a=x??a,m=b??m,u={...u,[y]:{...u[y],...R}},C&&d<=50&&(d++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(f=C.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:r}):C.rects),{x:a,y:m}=kt(f,h,c)),w=-1)}return{x:a,y:m,placement:h,strategy:r,middlewareData:u}},Be=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:f}=e,{mainAxis:a=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:p=!0,...w}=Z(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=X(r),v=Y(l),x=X(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(f.floating)),R=h||(x||!p?[ft(l)]:Me(l)),C=d!=="none";!h&&C&&R.push(...He(l,p,d,b));const A=[l,...R],L=await c.detectOverflow(e,w),N=[];let T=((o=s.flip)==null?void 0:o.overflows)||[];if(a&&N.push(L[y]),m){const F=Fe(r,i,b);N.push(L[F[0]],L[F[1]])}if(T=[...T,{placement:r,overflows:N}],!N.every(F=>F<=0)){var E,k;const F=(((E=s.flip)==null?void 0:E.index)||0)+1,z=A[F];if(z&&(!(m==="alignment"?v!==Y(z):!1)||T.every(S=>Y(S.placement)===v?S.overflows[0]>0:!0)))return{data:{index:F,overflows:T},reset:{placement:z}};let M=(k=T.filter(I=>I.overflows[0]<=0).sort((I,S)=>I.overflows[1]-S.overflows[1])[0])==null?void 0:k.placement;if(!M)switch(u){case"bestFit":{var P;const I=(P=T.filter(S=>{if(C){const O=Y(S.placement);return O===v||O==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(O=>O>0).reduce((O,H)=>O+H,0)]).sort((S,O)=>S[1]-O[1])[0])==null?void 0:P[0];I&&(M=I);break}case"initialPlacement":M=l;break}if(r!==M)return{reset:{placement:M}}}return{}}}},Ne=new Set(["left","top"]);async function We(t,e){const{placement:n,platform:o,elements:r}=t,s=await(o.isRTL==null?void 0:o.isRTL(r.floating)),i=X(n),l=it(n),c=Y(n)==="y",f=Ne.has(i)?-1:1,a=s&&c?-1:1,m=Z(e,t);let{mainAxis:h,crossAxis:u,alignmentAxis:d}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof d=="number"&&(u=l==="end"?d*-1:d),c?{x:u*a,y:h*f}:{x:h*f,y:u*a}}const Ve=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:s,placement:i,middlewareData:l}=e,c=await We(e,t);return i===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:r+c.x,y:s+c.y,data:{...c,placement:i}}}}},_e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r,platform:s}=e,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:y=>{let{x:v,y:x}=y;return{x:v,y:x}}},...f}=Z(t,e),a={x:n,y:o},m=await s.detectOverflow(e,f),h=Y(X(r)),u=Jt(h);let d=a[u],p=a[h];if(i){const y=u==="y"?"top":"left",v=u==="y"?"bottom":"right",x=d+m[y],b=d-m[v];d=Lt(x,d,b)}if(l){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+m[y],b=p-m[v];p=Lt(x,p,b)}const w=c.fn({...e,[u]:d,[h]:p});return{...w,data:{x:w.x-n,y:w.y-o,enabled:{[u]:i,[h]:l}}}}}},je=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:s,platform:i,elements:l}=e,{apply:c=()=>{},...f}=Z(t,e),a=await i.detectOverflow(e,f),m=X(r),h=it(r),u=Y(r)==="y",{width:d,height:p}=s.floating;let w,y;m==="top"||m==="bottom"?(w=m,y=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=m,w=h==="end"?"top":"bottom");const v=p-a.top-a.bottom,x=d-a.left-a.right,b=U(p-a[w],v),R=U(d-a[y],x),C=!e.middlewareData.shift;let A=b,L=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=x),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(A=v),C&&!h){const T=D(a.left,0),E=D(a.right,0),k=D(a.top,0),P=D(a.bottom,0);u?L=d-2*(T!==0||E!==0?T+E:D(a.left,a.right)):A=p-2*(k!==0||P!==0?k+P:D(a.top,a.bottom))}await c({...e,availableWidth:L,availableHeight:A});const N=await i.getDimensions(l.floating);return d!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function ee(t){const e=W(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=_(t),s=r?t.offsetWidth:n,i=r?t.offsetHeight:o,l=nt(n)!==s||nt(o)!==i;return l&&(n=s,o=i),{width:n,height:o,$:l}}function Et(t){return $(t)?t:t.contextElement}function G(t){const e=Et(t);if(!_(e))return V(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:s}=ee(e);let i=(s?nt(n.width):n.width)/o,l=(s?nt(n.height):n.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const ze=V(0);function ne(t){const e=B(t);return!Ot()||!e.visualViewport?ze:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ye(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==B(t)?!1:e}function K(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=Et(t);let i=V(1);e&&(o?$(o)&&(i=G(o)):i=G(t));const l=Ye(s,n,o)?ne(s):V(0);let c=(r.left+l.x)/i.x,f=(r.top+l.y)/i.y,a=r.width/i.x,m=r.height/i.y;if(s){const h=B(s),u=o&&$(o)?B(o):o;let d=h,p=Rt(d);for(;p&&o&&u!==d;){const w=G(p),y=p.getBoundingClientRect(),v=W(p),x=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*w.x,b=y.top+(p.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,f*=w.y,a*=w.x,m*=w.y,c+=x,f+=b,d=B(p),p=Rt(d)}}return at({width:a,height:m,x:c,y:f})}function ht(t,e){const n=gt(t).scrollLeft;return e?e.left+n:K(j(t)).left+n}function oe(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-ht(t,n),r=n.top+e.scrollTop;return{x:o,y:r}}function qe(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const s=r==="fixed",i=j(o),l=e?mt(e.floating):!1;if(o===i||l&&s)return n;let c={scrollLeft:0,scrollTop:0},f=V(1);const a=V(0),m=_(o);if((m||!m&&!s)&&((Q(o)!=="body"||rt(i))&&(c=gt(o)),_(o))){const u=K(o);f=G(o),a.x=u.x+o.clientLeft,a.y=u.y+o.clientTop}const h=i&&!m&&!s?oe(i,c):V(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-c.scrollLeft*f.x+a.x+h.x,y:n.y*f.y-c.scrollTop*f.y+a.y+h.y}}function Xe(t){return Array.from(t.getClientRects())}function Ue(t){const e=j(t),n=gt(t),o=t.ownerDocument.body,r=D(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),s=D(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let i=-n.scrollLeft+ht(t);const l=-n.scrollTop;return W(o).direction==="rtl"&&(i+=D(e.clientWidth,o.clientWidth)-r),{width:r,height:s,x:i,y:l}}const It=25;function Ke(t,e){const n=B(t),o=j(t),r=n.visualViewport;let s=o.clientWidth,i=o.clientHeight,l=0,c=0;if(r){s=r.width,i=r.height;const a=Ot();(!a||a&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}const f=ht(o);if(f<=0){const a=o.ownerDocument,m=a.body,h=getComputedStyle(m),u=a.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,d=Math.abs(o.clientWidth-m.clientWidth-u);d<=It&&(s-=d)}else f<=It&&(s+=f);return{width:s,height:i,x:l,y:c}}const Ge=new Set(["absolute","fixed"]);function Je(t,e){const n=K(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,s=_(t)?G(t):V(1),i=t.clientWidth*s.x,l=t.clientHeight*s.y,c=r*s.x,f=o*s.y;return{width:i,height:l,x:c,y:f}}function Bt(t,e,n){let o;if(e==="viewport")o=Ke(t,n);else if(e==="document")o=Ue(j(t));else if($(e))o=Je(e,n);else{const r=ne(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return at(o)}function re(t,e){const n=q(t);return n===e||!$(n)||J(n)?!1:W(n).position==="fixed"||re(n,e)}function Qe(t,e){const n=e.get(t);if(n)return n;let o=et(t,[],!1).filter(l=>$(l)&&Q(l)!=="body"),r=null;const s=W(t).position==="fixed";let i=s?q(t):t;for(;$(i)&&!J(i);){const l=W(i),c=At(i);!c&&l.position==="fixed"&&(r=null),(s?!c&&!r:!c&&l.position==="static"&&!!r&&Ge.has(r.position)||rt(i)&&!c&&re(t,i))?o=o.filter(a=>a!==i):r=l,i=q(i)}return e.set(t,o),o}function Ze(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const i=[...n==="clippingAncestors"?mt(e)?[]:Qe(e,this._c):[].concat(n),o],l=i[0],c=i.reduce((f,a)=>{const m=Bt(e,a,r);return f.top=D(m.top,f.top),f.right=U(m.right,f.right),f.bottom=U(m.bottom,f.bottom),f.left=D(m.left,f.left),f},Bt(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function tn(t){const{width:e,height:n}=ee(t);return{width:e,height:n}}function en(t,e,n){const o=_(e),r=j(e),s=n==="fixed",i=K(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=V(0);function f(){c.x=ht(r)}if(o||!o&&!s)if((Q(e)!=="body"||rt(r))&&(l=gt(e)),o){const u=K(e,!0,s,e);c.x=u.x+e.clientLeft,c.y=u.y+e.clientTop}else r&&f();s&&!o&&r&&f();const a=r&&!o&&!s?oe(r,l):V(0),m=i.left+l.scrollLeft-c.x-a.x,h=i.top+l.scrollTop-c.y-a.y;return{x:m,y:h,width:i.width,height:i.height}}function wt(t){return W(t).position==="static"}function Nt(t,e){if(!_(t)||W(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return j(t)===n&&(n=n.ownerDocument.body),n}function ie(t,e){const n=B(t);if(mt(t))return n;if(!_(t)){let r=q(t);for(;r&&!J(r);){if($(r)&&!wt(r))return r;r=q(r)}return n}let o=Nt(t,e);for(;o&&xe(o)&&wt(o);)o=Nt(o,e);return o&&J(o)&&wt(o)&&!At(o)?n:o||Ce(t)||n}const nn=async function(t){const e=this.getOffsetParent||ie,n=this.getDimensions,o=await n(t.floating);return{reference:en(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function on(t){return W(t).direction==="rtl"}const rn={convertOffsetParentRelativeRectToViewportRelativeRect:qe,getDocumentElement:j,getClippingRect:Ze,getOffsetParent:ie,getElementRects:nn,getClientRects:Xe,getDimensions:tn,getScale:G,isElement:$,isRTL:on};function se(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sn(t,e){let n=null,o;const r=j(t);function s(){var l;clearTimeout(o),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const f=t.getBoundingClientRect(),{left:a,top:m,width:h,height:u}=f;if(l||e(),!h||!u)return;const d=st(m),p=st(r.clientWidth-(a+h)),w=st(r.clientHeight-(m+u)),y=st(a),x={rootMargin:-d+"px "+-p+"px "+-w+"px "+-y+"px",threshold:D(0,U(1,c))||1};let b=!0;function R(C){const A=C[0].intersectionRatio;if(A!==c){if(!b)return i();A?i(!1,A):o=setTimeout(()=>{i(!1,1e-7)},1e3)}A===1&&!se(f,t.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(R,{...x,root:r.ownerDocument})}catch{n=new IntersectionObserver(R,x)}n.observe(t)}return i(!0),s}function ln(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=o,f=Et(t),a=r||s?[...f?et(f):[],...et(e)]:[];a.forEach(y=>{r&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const m=f&&l?sn(f,n):null;let h=-1,u=null;i&&(u=new ResizeObserver(y=>{let[v]=y;v&&v.target===f&&u&&(u.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=u)==null||x.observe(e)})),n()}),f&&!c&&u.observe(f),u.observe(e));let d,p=c?K(t):null;c&&w();function w(){const y=K(t);p&&!se(p,y)&&n(),p=y,d=requestAnimationFrame(w)}return n(),()=>{var y;a.forEach(v=>{r&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),m?.(),(y=u)==null||y.disconnect(),u=null,c&&cancelAnimationFrame(d)}}const xt=te,cn=Ve,fn=_e,an=Be,un=je,dn=(t,e,n)=>{const o=new Map,r={platform:rn,...n},s={...r.platform,_c:o};return Ie(t,e,{...r,platform:s})};var mn=typeof document<"u",gn=function(){},lt=mn?g.useLayoutEffect:gn;function ut(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!ut(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const s=r[o];if(!(s==="_owner"&&t.$$typeof)&&!ut(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function le(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Wt(t,e){const n=le(t);return Math.round(e*n)/n}function yt(t){const e=g.useRef(t);return lt(()=>{e.current=t}),e}function hn(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:f}=t,[a,m]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,u]=g.useState(o);ut(h,o)||u(o);const[d,p]=g.useState(null),[w,y]=g.useState(null),v=g.useCallback(S=>{S!==C.current&&(C.current=S,p(S))},[]),x=g.useCallback(S=>{S!==A.current&&(A.current=S,y(S))},[]),b=s||d,R=i||w,C=g.useRef(null),A=g.useRef(null),L=g.useRef(a),N=c!=null,T=yt(c),E=yt(r),k=yt(f),P=g.useCallback(()=>{if(!C.current||!A.current)return;const S={placement:e,strategy:n,middleware:h};E.current&&(S.platform=E.current),dn(C.current,A.current,S).then(O=>{const H={...O,isPositioned:k.current!==!1};F.current&&!ut(L.current,H)&&(L.current=H,ct.flushSync(()=>{m(H)}))})},[h,e,n,E,k]);lt(()=>{f===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,m(S=>({...S,isPositioned:!1})))},[f]);const F=g.useRef(!1);lt(()=>(F.current=!0,()=>{F.current=!1}),[]),lt(()=>{if(b&&(C.current=b),R&&(A.current=R),b&&R){if(T.current)return T.current(b,R,P);P()}},[b,R,P,T,N]);const z=g.useMemo(()=>({reference:C,floating:A,setReference:v,setFloating:x}),[v,x]),M=g.useMemo(()=>({reference:b,floating:R}),[b,R]),I=g.useMemo(()=>{const S={position:n,left:0,top:0};if(!M.floating)return S;const O=Wt(M.floating,a.x),H=Wt(M.floating,a.y);return l?{...S,transform:"translate("+O+"px, "+H+"px)",...le(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:H}},[n,l,M.floating,a.x,a.y]);return g.useMemo(()=>({...a,update:P,refs:z,elements:M,floatingStyles:I}),[a,P,z,M,I])}const ce=(t,e)=>({...cn(t),options:[t,e]}),pn=(t,e)=>({...fn(t),options:[t,e]}),wn=(t,e)=>({...an(t),options:[t,e]}),xn=(t,e)=>({...un(t),options:[t,e]}),fe={...de},yn=fe.useInsertionEffect,vn=yn||(t=>t());function ae(t){const e=g.useRef(()=>{});return vn(()=>{e.current=t}),g.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.current==null?void 0:e.current(...o)},[])}var St=typeof document<"u"?g.useLayoutEffect:g.useEffect;let Vt=!1,bn=0;const _t=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+bn++;function Rn(){const[t,e]=g.useState(()=>Vt?_t():void 0);return St(()=>{t==null&&e(_t())},[]),g.useEffect(()=>{Vt=!0},[]),t}const Cn=fe.useId,Sn=Cn||Rn;function An(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(r=>r(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var o;t.set(e,((o=t.get(e))==null?void 0:o.filter(r=>r!==n))||[])}}}const On=g.createContext(null),En=g.createContext(null),Tn=()=>{var t;return((t=g.useContext(On))==null?void 0:t.id)||null},Fn=()=>g.useContext(En),Mn="data-floating-ui-focusable";function Pn(t){const{open:e=!1,onOpenChange:n,elements:o}=t,r=Sn(),s=g.useRef({}),[i]=g.useState(()=>An()),l=Tn()!=null,[c,f]=g.useState(o.reference),a=ae((u,d,p)=>{s.current.openEvent=u?d:void 0,i.emit("openchange",{open:u,event:d,reason:p,nested:l}),n?.(u,d,p)}),m=g.useMemo(()=>({setPositionReference:f}),[]),h=g.useMemo(()=>({reference:c||o.reference||null,floating:o.floating||null,domReference:o.reference}),[c,o.reference,o.floating]);return g.useMemo(()=>({dataRef:s,open:e,onOpenChange:a,elements:h,events:i,floatingId:r,refs:m}),[e,a,h,i,r,m])}function Dn(t){t===void 0&&(t={});const{nodeId:e}=t,n=Pn({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,r=o.elements,[s,i]=g.useState(null),[l,c]=g.useState(null),a=r?.domReference||s,m=g.useRef(null),h=Fn();St(()=>{a&&(m.current=a)},[a]);const u=hn({...t,elements:{...r,...l&&{reference:l}}}),d=g.useCallback(x=>{const b=$(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;c(b),u.refs.setReference(b)},[u.refs]),p=g.useCallback(x=>{($(x)||x===null)&&(m.current=x,i(x)),($(u.refs.reference.current)||u.refs.reference.current===null||x!==null&&!$(x))&&u.refs.setReference(x)},[u.refs]),w=g.useMemo(()=>({...u.refs,setReference:p,setPositionReference:d,domReference:m}),[u.refs,p,d]),y=g.useMemo(()=>({...u.elements,domReference:a}),[u.elements,a]),v=g.useMemo(()=>({...u,...o,refs:w,elements:y,nodeId:e}),[u,w,y,e,o]);return St(()=>{o.dataRef.current.floatingContext=v;const x=h?.nodesRef.current.find(b=>b.id===e);x&&(x.context=v)}),g.useMemo(()=>({...u,context:v,refs:w,elements:y}),[u,w,y,v])}const jt="active",zt="selected";function vt(t,e,n){const o=new Map,r=n==="item";let s=t;if(r&&t){const{[jt]:i,[zt]:l,...c}=t;s=c}return{...n==="floating"&&{tabIndex:-1,[Mn]:""},...s,...e.map(i=>{const l=i?i[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((i,l)=>(l&&Object.entries(l).forEach(c=>{let[f,a]=c;if(!(r&&[jt,zt].includes(f)))if(f.indexOf("on")===0){if(o.has(f)||o.set(f,[]),typeof a=="function"){var m;(m=o.get(f))==null||m.push(a),i[f]=function(){for(var h,u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];return(h=o.get(f))==null?void 0:h.map(w=>w(...d)).find(w=>w!==void 0)}}}else i[f]=a}),i),{})}}function Ln(t){t===void 0&&(t=[]);const e=t.map(l=>l?.reference),n=t.map(l=>l?.floating),o=t.map(l=>l?.item),r=g.useCallback(l=>vt(l,t,"reference"),e),s=g.useCallback(l=>vt(l,t,"floating"),n),i=g.useCallback(l=>vt(l,t,"item"),o);return g.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:i}),[r,s,i])}function Yt(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const Hn=t=>({name:"inner",options:t,async fn(e){const{listRef:n,overflowRef:o,onFallbackChange:r,offset:s=0,index:i=0,minItemsVisible:l=4,referenceOverflowThreshold:c=0,scrollRef:f,...a}=Z(t,e),{rects:m,elements:{floating:h}}=e,u=n.current[i],d=f?.current||h,p=h.clientTop||d.clientTop,w=h.clientTop!==0,y=d.clientTop!==0,v=h===d;if(!u)return{};const x={...e,...await ce(-u.offsetTop-h.clientTop-m.reference.height/2-u.offsetHeight/2-s).fn(e)},b=await xt(Yt(x,d.scrollHeight+p+h.clientTop),a),R=await xt(x,{...a,elementContext:"reference"}),C=D(0,b.top),A=x.y+C,T=(d.scrollHeight>d.clientHeight?E=>E:nt)(D(0,d.scrollHeight+(w&&v||y?p*2:0)-C-D(0,b.bottom)));if(d.style.maxHeight=T+"px",d.scrollTop=C,r){const E=d.offsetHeight<u.offsetHeight*U(l,n.current.length)-1||R.top>=-c||R.bottom>=-c;ct.flushSync(()=>r(E))}return o&&(o.current=await xt(Yt({...x,y:A},d.offsetHeight+p+h.clientTop),a)),{y:A}}});function $n(t,e){const{open:n,elements:o}=t,{enabled:r=!0,overflowRef:s,scrollRef:i,onChange:l}=e,c=ae(l),f=g.useRef(!1),a=g.useRef(null),m=g.useRef(null);g.useEffect(()=>{if(!r)return;function u(p){if(p.ctrlKey||!d||s.current==null)return;const w=p.deltaY,y=s.current.top>=-.5,v=s.current.bottom>=-.5,x=d.scrollHeight-d.clientHeight,b=w<0?-1:1,R=w<0?"max":"min";d.scrollHeight<=d.clientHeight||(!y&&w>0||!v&&w<0?(p.preventDefault(),ct.flushSync(()=>{c(C=>C+Math[R](w,x*b))})):/firefox/i.test(Ae())&&(d.scrollTop+=w))}const d=i?.current||o.floating;if(n&&d)return d.addEventListener("wheel",u),requestAnimationFrame(()=>{a.current=d.scrollTop,s.current!=null&&(m.current={...s.current})}),()=>{a.current=null,m.current=null,d.removeEventListener("wheel",u)}},[r,n,o.floating,s,i,c]);const h=g.useMemo(()=>({onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const u=i?.current||o.floating;if(!(!s.current||!u||!f.current)){if(a.current!==null){const d=u.scrollTop-a.current;(s.current.bottom<-.5&&d<-1||s.current.top<-.5&&d>1)&&ct.flushSync(()=>c(p=>p+d))}requestAnimationFrame(()=>{a.current=u.scrollTop})}}}),[o.floating,c,s,i]);return g.useMemo(()=>r?{floating:h}:{},[r,h])}let tt=g.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});tt.displayName="FloatingContext";let Tt=g.createContext(null);Tt.displayName="PlacementContext";function jn(t){return g.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function zn(){return g.useContext(tt).setReference}function Yn(){return g.useContext(tt).getReferenceProps}function qn(){let{getFloatingProps:t,slot:e}=g.useContext(tt);return g.useCallback((...n)=>Object.assign({},t(...n),{"data-anchor":e.anchor}),[t,e])}function Xn(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=g.useContext(Tt),n=g.useMemo(()=>t,[JSON.stringify(t,(r,s)=>{var i;return(i=s?.outerHTML)!=null?i:s})]);ot(()=>{e?.(n??null)},[e,n]);let o=g.useContext(tt);return g.useMemo(()=>[o.setFloating,t?o.styles:{}],[o.setFloating,t,o.styles])}let qt=4;function Un({children:t,enabled:e=!0}){let[n,o]=g.useState(null),[r,s]=g.useState(0),i=g.useRef(null),[l,c]=g.useState(null);kn(l);let f=e&&n!==null&&l!==null,{to:a="bottom",gap:m=0,offset:h=0,padding:u=0,inner:d}=In(n,l),[p,w="center"]=a.split(" ");ot(()=>{f&&s(0)},[f]);let{refs:y,floatingStyles:v,context:x}=Dn({open:f,placement:p==="selection"?w==="center"?"bottom":`bottom-${w}`:w==="center"?`${p}`:`${p}-${w}`,strategy:"absolute",transform:!1,middleware:[ce({mainAxis:p==="selection"?0:m,crossAxis:h}),pn({padding:u}),p!=="selection"&&wn({padding:u}),p==="selection"&&d?Hn({...d,padding:u,overflowRef:i,offset:r,minItemsVisible:qt,referenceOverflowThreshold:u,onFallbackChange(E){var k,P;if(!E)return;let F=x.elements.floating;if(!F)return;let z=parseFloat(getComputedStyle(F).scrollPaddingBottom)||0,M=Math.min(qt,F.childElementCount),I=0,S=0;for(let O of(P=(k=x.elements.floating)==null?void 0:k.childNodes)!=null?P:[])if(he(O)){let H=O.offsetTop,Ft=H+O.clientHeight+z,pt=F.scrollTop,Mt=pt+F.clientHeight;if(H>=pt&&Ft<=Mt)M--;else{S=Math.max(0,Math.min(Ft,Mt)-Math.max(H,pt)),I=O.clientHeight;break}}M>=1&&s(O=>{let H=I*M-S+z;return O>=H?O:H})}}):null,xn({padding:u,apply({availableWidth:E,availableHeight:k,elements:P}){Object.assign(P.floating.style,{overflow:"auto",maxWidth:`${E}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${k}px)`})}})].filter(Boolean),whileElementsMounted:ln}),[b=p,R=w]=x.placement.split("-");p==="selection"&&(b="selection");let C=g.useMemo(()=>({anchor:[b,R].filter(Boolean).join(" ")}),[b,R]),A=$n(x,{overflowRef:i,onChange:s}),{getReferenceProps:L,getFloatingProps:N}=Ln([A]),T=Ut(E=>{c(E),y.setFloating(E)});return g.createElement(Tt.Provider,{value:o},g.createElement(tt.Provider,{value:{setFloating:T,setReference:y.setReference,styles:v,getReferenceProps:L,getFloatingProps:N,slot:C}},t))}function kn(t){ot(()=>{if(!t)return;let e=new MutationObserver(()=>{let n=window.getComputedStyle(t).maxHeight,o=parseFloat(n);if(isNaN(o))return;let r=parseInt(n);isNaN(r)||o!==r&&(t.style.maxHeight=`${Math.ceil(o)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function In(t,e){var n,o,r;let s=bt((n=t?.gap)!=null?n:"var(--anchor-gap, 0)",e),i=bt((o=t?.offset)!=null?o:"var(--anchor-offset, 0)",e),l=bt((r=t?.padding)!=null?r:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:i,padding:l}}function bt(t,e,n=void 0){let o=ge(),r=Ut((c,f)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!f)return[n,null];let a=Xt(c,f);return[a,m=>{let h=ue(c);{let u=h.map(d=>window.getComputedStyle(f).getPropertyValue(d));o.requestAnimationFrame(function d(){o.nextFrame(d);let p=!1;for(let[y,v]of h.entries()){let x=window.getComputedStyle(f).getPropertyValue(v);if(u[y]!==x){u[y]=x,p=!0;break}}if(!p)return;let w=Xt(c,f);a!==w&&(m(w),a=w)})}return o.dispose}]}return[n,null]}),s=g.useMemo(()=>r(t,e)[0],[t,e]),[i=s,l]=g.useState();return ot(()=>{let[c,f]=r(t,e);if(l(c),!!f)return f(l)},[t,e]),i}function ue(t){let e=/var\((.*)\)/.exec(t);if(e){let n=e[1].indexOf(",");if(n===-1)return[e[1]];let o=e[1].slice(0,n).trim(),r=e[1].slice(n+1).trim();return r?[o,...ue(r)]:[o]}return[]}function Xt(t,e){let n=document.createElement("div");e.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",t,"important");let o=parseFloat(window.getComputedStyle(n).marginTop)||0;return e.removeChild(n),o}export{Un as A,zn as F,Xn as R,qn as T,Yn as b,_n as w,jn as y};
